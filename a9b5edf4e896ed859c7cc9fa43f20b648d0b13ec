{
  "version": 3,
  "session": {
    "session_id": "122a1b51-f443-4991-8332-576b0195cec6",
    "model": {
      "id": "claude-opus-4-5-20251101",
      "provider": "anthropic"
    },
    "started_at": "2026-02-02T13:16:49.192092+00:00",
    "prompt_count": 27,
    "used_plan_mode": false,
    "subagent_count": 0
  },
  "prompts": [
    {
      "index": 0,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:16:49.192217+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 1,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:17:03.111633+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 2,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:17:18.338470+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 3,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:17:33.310139+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 4,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:17:52.517768+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 5,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:18:16.632849+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 6,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:18:29.291459+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 7,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:18:44.571269+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 8,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:19:00.977981+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 9,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:19:12.680879+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 10,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:20:01.549566+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 11,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:20:24.864987+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 12,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:20:53.560398+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 13,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:21:03.837102+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 14,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:21:18.197022+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 15,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:21:24.444436+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 16,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:21:28.176604+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 17,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:21:33.224142+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 18,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:21:38.070166+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 19,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:21:45.301748+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 20,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:22:16.496509+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 21,
      "text": "\"Implement the following plan:\\n\\n# Implementation Plan: PR Annotations Improvements\\n\\n## Overview\\n\\nThis plan addresses 10 major issues and 3 minor issues identified in the PR annotations logic to make annotations more helpful, rational, and less obstructive for users.\\n\\n## Critical Files to Modify\\n\\n- `src/cli/annotations.rs` - Main annotations logic (731 lines)\\n- `src/core/blame.rs` - Blame engine for AI attribution lookup\\n- `src/cli/mod.rs` - CLI argument registration\\n\\n## Implementation Tasks\\n\\n### Phase 1: Data Model & Core Infrastructure\\n\\n#### Task 1.1: Add Annotation Scoring/Priority System\\n**File:** `src/cli/annotations.rs`\\n\\nAdd a new struct and scoring function to prioritize annotations:\\n\\n```rust\\nstruct AnnotationCandidate {\\n    annotation: CheckAnnotation,\\n    score: f64,\\n    file_path: String,\\n    ai_coverage: f64,\\n    ai_line_count: usize,\\n}\\n\\nfn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {\\n    let mut score = 0.0;\\n    score += stats.ai_coverage() * 40.0;           // Up to 40 points for AI coverage\\n    score += (stats.ai_lines.min(100) as f64) * 0.3; // Up to 30 points for line count\\n    if stats.is_new_file { score += 15.0; }        // Bonus for new files\\n    if is_in_diff { score += 15.0; }               // Bonus for being in PR diff\\n    score\\n}\\n```\\n\\n#### Task 1.2: Add CLI Arguments for New Features\\n**File:** `src/cli/annotations.rs` (AnnotationsArgs struct)\\n\\nAdd new arguments:\\n- `--min-ai-lines <N>` - Minimum AI lines for a file to be annotated (default: 3)\\n- `--min-ai-percent <N>` - Minimum AI percentage for a file to be annotated (default: 5.0)\\n- `--diff-only` - Only annotate lines within the PR diff\\n- `--group-ai-types` - Group AI and AIModified together in line annotations\\n- `--sort-by <MODE>` - Sort order: `coverage`, `lines`, `alpha` (default: coverage)\\n\\n---\\n\\n### Phase 2: Fix File Ordering (Issue #1)\\n\\n#### Task 2.1: Implement File Sorting\\n**File:** `src/cli/annotations.r",
      "timestamp": "2026-02-02T13:22:54.806613+00:00",
      "affected_files": [
        "src/cli/annotations.rs"
      ]
    },
    {
      "index": 22,
      "text": "\"Before we commit this, do a full audit of the documentation throughout the codebase in its current state to ensure that our documentation includes all necessary information, commands, flags, and has no outdated or incorrect claims or information that need updating\"",
      "timestamp": "2026-02-02T13:25:35.447124+00:00",
      "affected_files": [
        "docs/src/guide/commands/annotations.md"
      ]
    },
    {
      "index": 23,
      "text": "\"Before we commit this, do a full audit of the documentation throughout the codebase in its current state to ensure that our documentation includes all necessary information, commands, flags, and has no outdated or incorrect claims or information that need updating\"",
      "timestamp": "2026-02-02T13:25:46.143983+00:00",
      "affected_files": [
        "README.md"
      ]
    },
    {
      "index": 24,
      "text": "\"Before we commit this, do a full audit of the documentation throughout the codebase in its current state to ensure that our documentation includes all necessary information, commands, flags, and has no outdated or incorrect claims or information that need updating\"",
      "timestamp": "2026-02-02T13:25:51.957915+00:00",
      "affected_files": [
        "CLAUDE.md"
      ]
    },
    {
      "index": 25,
      "text": "\"Before we commit this, do a full audit of the documentation throughout the codebase in its current state to ensure that our documentation includes all necessary information, commands, flags, and has no outdated or incorrect claims or information that need updating\"",
      "timestamp": "2026-02-02T13:26:10.485200+00:00",
      "affected_files": [
        "docs/src/reference/data-formats.md"
      ]
    },
    {
      "index": 26,
      "text": "\"Before we commit this, do a full audit of the documentation throughout the codebase in its current state to ensure that our documentation includes all necessary information, commands, flags, and has no outdated or incorrect claims or information that need updating\"",
      "timestamp": "2026-02-02T13:26:30.395966+00:00",
      "affected_files": [
        ".github/workflows/ai-attribution.yml"
      ]
    }
  ],
  "files": [
    {
      "path": ".github/workflows/ai-attribution.yml",
      "lines": [
        {
          "line_number": 1,
          "content": "name: AI Attribution Summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "on:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "  pull_request:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "    types: [opened, synchronize, reopened]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "permissions:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "  contents: read",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "  pull-requests: write",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "  checks: write",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "jobs:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "  analyze:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    runs-on: ubuntu-latest",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    steps:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "      - name: Checkout repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "        uses: actions/checkout@v4",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "        with:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "          fetch-depth: 0  # Full history for git notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "          ref: ${{ github.event.pull_request.head.sha }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "      - name: Fetch git notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "        run: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "          git fetch origin refs/notes/whogitit:refs/notes/whogitit || echo \"No whogitit notes found\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "        continue-on-error: true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "      - name: Setup Rust",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "        uses: dtolnay/rust-toolchain@stable",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "      - name: Cache cargo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "        uses: actions/cache@v4",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "        with:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "          path: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "            ~/.cargo/bin/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "            ~/.cargo/registry/index/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "            ~/.cargo/registry/cache/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "            ~/.cargo/git/db/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "            target/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "          key: ${{ runner.os }}-cargo-${{ hashFiles('**/Cargo.lock') }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "          restore-keys: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "            ${{ runner.os }}-cargo-",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "      - name: Build whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "        run: cargo build --release",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "      - name: Analyze PR commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "        id: analyze",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "        env:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "          BASE_SHA: ${{ github.event.pull_request.base.sha }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "          HEAD_SHA: ${{ github.event.pull_request.head.sha }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "        run: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "          # Create analysis script",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "          cat > /tmp/analyze.sh << 'SCRIPT'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "          #!/bin/bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "          set -e",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "          BASE_SHA=\"$1\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "          HEAD_SHA=\"$2\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "          WHOGITIT=\"./target/release/whogitit\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "          # Get list of commits in PR",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "          COMMITS=$(git rev-list --reverse \"$BASE_SHA\"..\"$HEAD_SHA\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "          if [ -z \"$COMMITS\" ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "            echo \"No commits to analyze\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "            echo \"has_data=false\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "            exit 0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "          fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "          # Initialize counters",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "          TOTAL_AI=0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "          TOTAL_AI_MODIFIED=0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "          TOTAL_HUMAN=0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "          COMMITS_WITH_AI=0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "          COMMIT_COUNT=0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "          # Collect per-commit data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "          COMMIT_DETAILS=\"\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "          # Collect per-file data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "          declare -A FILE_AI",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "          declare -A FILE_AI_MOD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "          declare -A FILE_HUMAN",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "          declare -A FILE_IS_NEW",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "          FILE_LIST=\"\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "          # Track unique prompts (deduplicated across commits)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "          declare -A SEEN_PROMPTS",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "          PROMPT_LIST=\"\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "          PROMPT_COUNT=0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "          for COMMIT in $COMMITS; do",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "            COMMIT_COUNT=$((COMMIT_COUNT + 1))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "            SHORT=$(echo \"$COMMIT\" | cut -c1-7)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "            # Try to get attribution for this commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "            if ATTR=$(\"$WHOGITIT\" show \"$COMMIT\" --format json 2>/dev/null); then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "              # Skip if no attribution (null output)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "              if [ \"$ATTR\" = \"null\" ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "                continue",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "              fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "              # Parse JSON output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "              AI=$(echo \"$ATTR\" | jq -r '[.files[].summary.ai_lines] | add // 0')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "              AI_MOD=$(echo \"$ATTR\" | jq -r '[.files[].summary.ai_modified_lines] | add // 0')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "              HUMAN=$(echo \"$ATTR\" | jq -r '[.files[].summary.human_lines] | add // 0')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "              ORIGINAL=$(echo \"$ATTR\" | jq -r '[.files[].summary.original_lines] | add // 0')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "              MODEL=$(echo \"$ATTR\" | jq -r '.session.model.id // \"unknown\"')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "              FILES=$(echo \"$ATTR\" | jq -r '.files | length')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "              if [ \"$AI\" != \"0\" ] || [ \"$AI_MOD\" != \"0\" ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "                COMMITS_WITH_AI=$((COMMITS_WITH_AI + 1))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "                TOTAL_AI=$((TOTAL_AI + AI))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "                TOTAL_AI_MODIFIED=$((TOTAL_AI_MODIFIED + AI_MOD))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "                TOTAL_HUMAN=$((TOTAL_HUMAN + HUMAN))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "                # Collect per-file statistics",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "                FILE_DATA=$(echo \"$ATTR\" | jq -r '.files[] | \"\\(.path)|\\(.summary.ai_lines)|\\(.summary.ai_modified_lines)|\\(.summary.human_lines)|\\(.summary.original_lines)\"' 2>/dev/null || true)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "                for FILE_LINE in $FILE_DATA; do",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "                  F_PATH=$(echo \"$FILE_LINE\" | cut -d'|' -f1)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "                  F_AI=$(echo \"$FILE_LINE\" | cut -d'|' -f2)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "                  F_AI_MOD=$(echo \"$FILE_LINE\" | cut -d'|' -f3)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "                  F_HUMAN=$(echo \"$FILE_LINE\" | cut -d'|' -f4)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "                  F_ORIG=$(echo \"$FILE_LINE\" | cut -d'|' -f5)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "                  # Accumulate per-file stats",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "                  FILE_AI[\"$F_PATH\"]=$((${FILE_AI[\"$F_PATH\"]:-0} + F_AI))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "                  FILE_AI_MOD[\"$F_PATH\"]=$((${FILE_AI_MOD[\"$F_PATH\"]:-0} + F_AI_MOD))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "                  FILE_HUMAN[\"$F_PATH\"]=$((${FILE_HUMAN[\"$F_PATH\"]:-0} + F_HUMAN))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "                  # Mark as new file if no original lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "                  if [ \"$F_ORIG\" = \"0\" ] && [ $((F_AI + F_AI_MOD + F_HUMAN)) -gt 0 ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "                    FILE_IS_NEW[\"$F_PATH\"]=1",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "                  fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "                  # Track unique files",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "                  if [[ ! \"$FILE_LIST\" =~ \"$F_PATH\" ]]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "                    FILE_LIST=\"${FILE_LIST}${F_PATH}|||\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "                  fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "                done",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "                # Get commit message (first line)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "                MSG=$(git log -1 --format=%s \"$COMMIT\" | head -c 50)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "                COMMIT_DETAILS=\"${COMMIT_DETAILS}| \\`${SHORT}\\` | ${MSG} | ${AI} | ${AI_MOD} | ${HUMAN} | ${FILES} |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "          \"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "                # Extract prompts from this commit (deduplicated)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "                # Get files changed in this commit for better file association",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "                COMMIT_FILES=$(git diff-tree --no-commit-id --name-only -r \"$COMMIT\" 2>/dev/null | tr '\\n' ', ' | sed 's/,$//')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "                PROMPTS=$(echo \"$ATTR\" | jq -r '.prompts[]? | @base64' 2>/dev/null || true)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "                for PROMPT_B64 in $PROMPTS; do",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "                  # Decode and extract prompt text (full text, up to 2000 chars)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "                  PROMPT_TEXT=$(echo \"$PROMPT_B64\" | base64 -d | jq -r '.text // \"\"' 2>/dev/null | head -c 2000)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "                  # Get affected files and make them relative/clean",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "                  RAW_FILES=$(echo \"$PROMPT_B64\" | base64 -d | jq -r '.affected_files[]?' 2>/dev/null || echo \"\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "                  PROMPT_FILES=\"\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "                  for FILE in $RAW_FILES; do",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "                    # Make path relative to repo if it's inside the repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "                    if [[ \"$FILE\" == \"$PWD\"/* ]]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "                      FILE=\"${FILE#$PWD/}\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "                    elif [[ \"$FILE\" == /* ]]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "                      # Absolute path outside repo - skip or just show basename",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "                      FILE=$(basename \"$FILE\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "                    fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "                    if [ -n \"$PROMPT_FILES\" ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "                      PROMPT_FILES=\"$PROMPT_FILES, $FILE\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "                    else",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "                      PROMPT_FILES=\"$FILE\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "                    fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "                  done",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "                  # If no files from prompt, use commit files",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "                  if [ -z \"$PROMPT_FILES\" ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "                    PROMPT_FILES=\"$COMMIT_FILES\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "                  fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "                  # Skip empty or default prompts",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "                  if [ -z \"$PROMPT_TEXT\" ] || [ \"$PROMPT_TEXT\" = \"AI-assisted code change\" ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "                    continue",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "                  fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "                  # Remove surrounding quotes if present",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "                  PROMPT_TEXT=$(echo \"$PROMPT_TEXT\" | sed 's/^\"//;s/\"$//')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "                  # Create a hash key for deduplication (first 100 chars)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "                  PROMPT_KEY=$(echo \"$PROMPT_TEXT\" | head -c 100 | md5sum | cut -d' ' -f1)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "                  if [ -z \"${SEEN_PROMPTS[$PROMPT_KEY]:-}\" ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "                    SEEN_PROMPTS[$PROMPT_KEY]=1",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "                    PROMPT_COUNT=$((PROMPT_COUNT + 1))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "                    # Store full prompt for detailed view (escape for JSON)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "                    FULL_PROMPT=$(echo \"$PROMPT_TEXT\" | jq -Rs '.' | sed 's/^\"//;s/\"$//')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "                    # Create short preview (first 100 chars, single line)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "                    PROMPT_PREVIEW=$(echo \"$PROMPT_TEXT\" | tr '\\n' ' ' | head -c 100)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "                    if [ ${#PROMPT_TEXT} -gt 100 ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "                      PROMPT_PREVIEW=\"${PROMPT_PREVIEW}...\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "                    fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "                    # Escape special markdown characters",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "                    PROMPT_PREVIEW=$(echo \"$PROMPT_PREVIEW\" | sed 's/|/\\\\|/g')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "                    FULL_PROMPT_ESCAPED=$(echo \"$FULL_PROMPT\" | sed 's/|/\\\\|/g')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "                    # Build prompt entry - store as base64 to avoid YAML issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "                    PROMPT_ENTRY=$(echo -e \"NUM:${PROMPT_COUNT}\\nFILES:${PROMPT_FILES}\\nPREVIEW:${PROMPT_PREVIEW}\\nFULL:${PROMPT_TEXT}\" | base64 -w0)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "                    PROMPT_LIST=\"${PROMPT_LIST}${PROMPT_ENTRY}|||\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "                  fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "                done",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "              fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "            fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "          done",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "          # Total additions = AI + AI_modified + Human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "          TOTAL_ADDITIONS=$((TOTAL_AI + TOTAL_AI_MODIFIED + TOTAL_HUMAN))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "          if [ \"$COMMITS_WITH_AI\" -eq 0 ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "            echo \"has_data=false\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "            exit 0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "          fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "          # AI percentage is of additions only",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "          if [ \"$TOTAL_ADDITIONS\" -gt 0 ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "            AI_PERCENT=$(echo \"scale=1; ($TOTAL_AI + $TOTAL_AI_MODIFIED) * 100 / $TOTAL_ADDITIONS\" | bc)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "          else",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "            AI_PERCENT=\"0\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "          fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "          # Count files",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "          FILE_COUNT=$(echo \"$FILE_LIST\" | tr '|||' '\\n' | grep -v '^$' | wc -l | tr -d ' ')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "          # Build per-file details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "          FILE_DETAILS=\"\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "          for F_PATH in $(echo \"$FILE_LIST\" | tr '|||' '\\n' | grep -v '^$'); do",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "            F_AI=${FILE_AI[\"$F_PATH\"]:-0}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "            F_AI_MOD=${FILE_AI_MOD[\"$F_PATH\"]:-0}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "            F_HUMAN=${FILE_HUMAN[\"$F_PATH\"]:-0}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "            F_ADDITIONS=$((F_AI + F_AI_MOD + F_HUMAN))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "            F_AI_TOTAL=$((F_AI + F_AI_MOD))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "            if [ \"$F_ADDITIONS\" -gt 0 ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "              F_AI_PCT=$(echo \"scale=0; $F_AI_TOTAL * 100 / $F_ADDITIONS\" | bc)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "            else",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "              F_AI_PCT=0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "            fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "            F_STATUS=\"Modified\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "            if [ \"${FILE_IS_NEW[\"$F_PATH\"]:-0}\" = \"1\" ]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "              F_STATUS=\"New\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "            fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "            FILE_DETAILS=\"${FILE_DETAILS}| \\`${F_PATH}\\` | +${F_ADDITIONS} | ${F_AI_TOTAL} | ${F_HUMAN} | ${F_AI_PCT}% | ${F_STATUS} |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "          \"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "          done",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "          # Build summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "          echo \"has_data=true\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "          echo \"total_ai=$TOTAL_AI\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "          echo \"total_ai_modified=$TOTAL_AI_MODIFIED\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "          echo \"total_human=$TOTAL_HUMAN\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "          echo \"total_additions=$TOTAL_ADDITIONS\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "          echo \"commits_with_ai=$COMMITS_WITH_AI\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "          echo \"commit_count=$COMMIT_COUNT\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "          echo \"ai_percent=$AI_PERCENT\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "          echo \"file_count=$FILE_COUNT\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "          # Write commit details to file for multi-line output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "          echo \"$COMMIT_DETAILS\" > /tmp/commit_details.txt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "          # Write file details to file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "          echo \"$FILE_DETAILS\" > /tmp/file_details.txt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "          # Write prompts to file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "          echo \"$PROMPT_LIST\" > /tmp/prompts.txt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "          echo \"prompt_count=$PROMPT_COUNT\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "          SCRIPT",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "          chmod +x /tmp/analyze.sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "          /tmp/analyze.sh \"$BASE_SHA\" \"$HEAD_SHA\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "      - name: Generate annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "        if: steps.analyze.outputs.has_data == 'true'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "        id: annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "        env:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "          BASE_SHA: ${{ github.event.pull_request.base.sha }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "          HEAD_SHA: ${{ github.event.pull_request.head.sha }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "        run: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "          # Generate annotations JSON using the new annotations command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "          ./target/release/whogitit annotations \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "            --base \"$BASE_SHA\" \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "            --head \"$HEAD_SHA\" \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "            --format github-checks \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "            --max-annotations 50 > /tmp/annotations.json 2>/dev/null || echo '{\"annotations\":[],\"summary\":{}}' > /tmp/annotations.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "          # Check if we have annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "          ANNOTATION_COUNT=$(jq '.annotations | length' /tmp/annotations.json 2>/dev/null || echo \"0\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "          echo \"annotation_count=$ANNOTATION_COUNT\" >> \"$GITHUB_OUTPUT\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "      - name: Create Check Run with Annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "        if: steps.analyze.outputs.has_data == 'true' && steps.annotations.outputs.annotation_count != '0'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "        uses: actions/github-script@v7",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "        env:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "          HEAD_SHA: ${{ github.event.pull_request.head.sha }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "          AI_PERCENT: ${{ steps.analyze.outputs.ai_percent }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "          TOTAL_AI: ${{ steps.analyze.outputs.total_ai }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "          TOTAL_AI_MODIFIED: ${{ steps.analyze.outputs.total_ai_modified }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "          FILE_COUNT: ${{ steps.analyze.outputs.file_count }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "        with:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "          script: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "            const fs = require('fs');",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "            // Read annotations from file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "            let annotationsData;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "            try {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "              annotationsData = JSON.parse(fs.readFileSync('/tmp/annotations.json', 'utf8'));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "            } catch (e) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "              console.log('Failed to read annotations:', e.message);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "              return;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "            const annotations = annotationsData.annotations || [];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "            if (annotations.length === 0) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "              console.log('No annotations to create');",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "              return;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "            const aiPercent = process.env.AI_PERCENT || '0';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "            const totalAI = parseInt(process.env.TOTAL_AI) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "            const totalAIMod = parseInt(process.env.TOTAL_AI_MODIFIED) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "            const fileCount = parseInt(process.env.FILE_COUNT) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "            // Handle both old (model) and new (models array) formats",
          "source": {
            "type": "AI",
            "edit_id": "951ae272-83ef-4903-a278-612f939fe952"
          },
          "edit_id": "951ae272-83ef-4903-a278-612f939fe952",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "            const models = annotationsData.summary?.models || (annotationsData.summary?.model ? [annotationsData.summary.model] : []);",
          "source": {
            "type": "AI",
            "edit_id": "951ae272-83ef-4903-a278-612f939fe952"
          },
          "edit_id": "951ae272-83ef-4903-a278-612f939fe952",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "            const model = models.length > 0 ? models.join(', ') : 'unknown';",
          "source": {
            "type": "AI",
            "edit_id": "951ae272-83ef-4903-a278-612f939fe952"
          },
          "edit_id": "951ae272-83ef-4903-a278-612f939fe952",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "            // Create check run",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "            const checkRun = await github.rest.checks.create({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "              owner: context.repo.owner,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "              repo: context.repo.repo,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "              name: 'AI Attribution',",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "              head_sha: process.env.HEAD_SHA,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "              status: 'completed',",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "              conclusion: 'neutral',",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "              output: {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "                title: `${aiPercent}% AI-generated (${totalAI + totalAIMod} lines)`,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "                summary: `This PR contains AI-generated code tracked by whogitit.\\n\\n` +",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "                  `- **AI-generated lines:** ${totalAI}\\n` +",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "                  `- **AI-modified lines:** ${totalAIMod}\\n` +",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "                  `- **Files with AI code:** ${fileCount}\\n` +",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "                  `- **Model:** ${model}\\n\\n` +",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "                  `Click on individual annotations in the \"Files changed\" tab to see attribution details.`,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "                annotations: annotations.slice(0, 50).map(a => ({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "                  path: a.path,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "                  start_line: a.start_line,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "                  end_line: a.end_line,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "                  annotation_level: a.annotation_level,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "                  title: a.title,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "                  message: a.message,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "                  raw_details: a.raw_details || undefined",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "                }))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "              }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "            });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "            console.log(`Created check run with ${annotations.length} annotations`);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "            // If more than 50 annotations, update with additional batches",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "            // GitHub allows up to 50 annotations per API call",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "            for (let i = 50; i < annotations.length; i += 50) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "              const batch = annotations.slice(i, i + 50);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "              await github.rest.checks.update({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "                owner: context.repo.owner,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "                repo: context.repo.repo,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "                check_run_id: checkRun.data.id,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "                output: {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "                  title: `${aiPercent}% AI-generated (${totalAI + totalAIMod} lines)`,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "                  summary: `This PR contains AI-generated code tracked by whogitit.\\n\\n` +",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "                    `- **AI-generated lines:** ${totalAI}\\n` +",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "                    `- **AI-modified lines:** ${totalAIMod}\\n` +",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "                    `- **Files with AI code:** ${fileCount}\\n` +",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "                    `- **Model:** ${model}\\n\\n` +",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "                    `Click on individual annotations in the \"Files changed\" tab to see attribution details.`,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "                  annotations: batch.map(a => ({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "                    path: a.path,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "                    start_line: a.start_line,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "                    end_line: a.end_line,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "                    annotation_level: a.annotation_level,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "                    title: a.title,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "                    message: a.message,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "                    raw_details: a.raw_details || undefined",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "                  }))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "              });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "              console.log(`Added batch of ${batch.length} annotations`);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "      - name: Post PR comment",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "        if: steps.analyze.outputs.has_data == 'true'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "        uses: actions/github-script@v7",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "        env:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "          TOTAL_AI: ${{ steps.analyze.outputs.total_ai }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "          TOTAL_AI_MODIFIED: ${{ steps.analyze.outputs.total_ai_modified }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "          TOTAL_HUMAN: ${{ steps.analyze.outputs.total_human }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "          TOTAL_ADDITIONS: ${{ steps.analyze.outputs.total_additions }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "          COMMITS_WITH_AI: ${{ steps.analyze.outputs.commits_with_ai }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "          COMMIT_COUNT: ${{ steps.analyze.outputs.commit_count }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "          AI_PERCENT: ${{ steps.analyze.outputs.ai_percent }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "          FILE_COUNT: ${{ steps.analyze.outputs.file_count }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "          PROMPT_COUNT: ${{ steps.analyze.outputs.prompt_count }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "        with:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "          script: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "            const fs = require('fs');",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "            const totalAI = parseInt(process.env.TOTAL_AI) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "            const totalAIMod = parseInt(process.env.TOTAL_AI_MODIFIED) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "            const totalHuman = parseInt(process.env.TOTAL_HUMAN) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "            const totalAdditions = parseInt(process.env.TOTAL_ADDITIONS) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "            const commitsWithAI = parseInt(process.env.COMMITS_WITH_AI) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "            const commitCount = parseInt(process.env.COMMIT_COUNT) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "            const aiPercent = process.env.AI_PERCENT || '0';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "            const fileCount = parseInt(process.env.FILE_COUNT) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "            const promptCount = parseInt(process.env.PROMPT_COUNT) || 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "            // Read commit details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "            let commitDetails = '';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "            try {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "              commitDetails = fs.readFileSync('/tmp/commit_details.txt', 'utf8').trim();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "            } catch (e) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "              console.log('No commit details file found');",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "            // Read file details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "            let fileDetails = '';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "            try {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "              fileDetails = fs.readFileSync('/tmp/file_details.txt', 'utf8').trim();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "            } catch (e) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "              console.log('No file details file found');",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "            // Read and parse prompts (base64 encoded, separated by |||)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "            let parsedPrompts = [];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "            try {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "              const rawPrompts = fs.readFileSync('/tmp/prompts.txt', 'utf8').trim();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "              const promptBlocks = rawPrompts.split('|||').filter(b => b.trim());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "              for (const b64 of promptBlocks) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "                try {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "                  const decoded = Buffer.from(b64.trim(), 'base64').toString('utf8');",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "                  const lines = decoded.split('\\n');",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "                  const prompt = {};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "                  let fullLines = [];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "                  let inFull = false;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "                  for (const line of lines) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "                    if (line.startsWith('NUM:')) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "                      prompt.num = line.replace('NUM:', '').trim();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "                    } else if (line.startsWith('FILES:')) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "                      prompt.files = line.replace('FILES:', '').trim();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "                    } else if (line.startsWith('PREVIEW:')) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "                      prompt.preview = line.replace('PREVIEW:', '').trim();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "                    } else if (line.startsWith('FULL:')) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "                      inFull = true;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "                      fullLines.push(line.replace('FULL:', ''));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "                    } else if (inFull) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "                      fullLines.push(line);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "                  }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": "                  prompt.full = fullLines.join('\\n').trim();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "                  if (prompt.num) parsedPrompts.push(prompt);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "                } catch (decodeErr) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "                  console.log('Failed to decode prompt:', decodeErr.message);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "              }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "            } catch (e) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "              console.log('No prompts file found or parse error:', e.message);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "            // Determine emoji based on AI percentage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "            let emoji = '';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "            const pct = parseFloat(aiPercent);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "            if (pct >= 80) emoji = '';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "            else if (pct >= 50) emoji = '';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "            else if (pct >= 20) emoji = '';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "            else emoji = '';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "            // Calculate percentages based on additions only",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "            const aiPct = totalAdditions > 0 ? ((totalAI / totalAdditions) * 100).toFixed(1) : '0.0';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "            const aiModPct = totalAdditions > 0 ? ((totalAIMod / totalAdditions) * 100).toFixed(1) : '0.0';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "            const humanPct = totalAdditions > 0 ? ((totalHuman / totalAdditions) * 100).toFixed(1) : '0.0';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "            let body = `## ${emoji} AI Attribution Summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "            This PR adds **+${totalAdditions}** lines with AI attribution across **${fileCount}** files.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "            ### Additions Breakdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "            | Metric | Lines | % of Additions |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 495,
          "content": "            |--------|------:|--------------:|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 496,
          "content": "            |  AI-generated | +${totalAI} | ${aiPct}% |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 497,
          "content": "            |  AI-modified by human | +${totalAIMod} | ${aiModPct}% |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 498,
          "content": "            |  Human-written | +${totalHuman} | ${humanPct}% |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 499,
          "content": "            | **Total additions** | **+${totalAdditions}** | **100%** |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 500,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 501,
          "content": "            **AI involvement: ${aiPercent}%** of additions are AI-generated",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 502,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 503,
          "content": "            `;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 504,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 505,
          "content": "            if (fileDetails) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 506,
          "content": "              body += `### Files Changed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 507,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 508,
          "content": "            | File | +Added | AI | Human | AI % | Status |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 509,
          "content": "            |------|-------:|---:|------:|-----:|--------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 510,
          "content": "            ${fileDetails}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 511,
          "content": "            `;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 512,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 513,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 514,
          "content": "            if (commitDetails) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 515,
          "content": "              body += `### Commits with AI Attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 516,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 517,
          "content": "            | Commit | Message | AI | Modified | Human | Files |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 518,
          "content": "            |--------|---------|---:|--------:|------:|------:|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 519,
          "content": "            ${commitDetails}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 520,
          "content": "            `;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 521,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 522,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 523,
          "content": "            if (parsedPrompts.length > 0) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 524,
          "content": "              body += '### Prompts Used (' + parsedPrompts.length + ')\\n\\n';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 525,
          "content": "              for (const p of parsedPrompts) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 526,
          "content": "                body += '**Prompt ' + p.num + '** (' + p.files + ')\\n';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 527,
          "content": "                body += '<details>\\n';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 528,
          "content": "                body += '<summary>' + p.preview + '</summary>\\n\\n';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 529,
          "content": "                body += '```\\n';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 530,
          "content": "                body += p.full + '\\n';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 531,
          "content": "                body += '```\\n';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 532,
          "content": "                body += '</details>\\n\\n';",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 533,
          "content": "              }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 534,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 535,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 536,
          "content": "            body += `",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 537,
          "content": "            ---",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 538,
          "content": "            <sub>Generated by [whogitit](https://github.com/dotsetlabs/whogitit)  [View detailed attribution](command:whogitit show HEAD)</sub>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 539,
          "content": "            `;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 540,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 541,
          "content": "            // Find existing comment",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 542,
          "content": "            const { data: comments } = await github.rest.issues.listComments({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 543,
          "content": "              owner: context.repo.owner,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 544,
          "content": "              repo: context.repo.repo,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 545,
          "content": "              issue_number: context.issue.number,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 546,
          "content": "            });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 547,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 548,
          "content": "            const botComment = comments.find(c =>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 549,
          "content": "              c.user.type === 'Bot' &&",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 550,
          "content": "              c.body.includes('AI Attribution Summary')",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 551,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 552,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 553,
          "content": "            if (botComment) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 554,
          "content": "              // Update existing comment",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 555,
          "content": "              await github.rest.issues.updateComment({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 556,
          "content": "                owner: context.repo.owner,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 557,
          "content": "                repo: context.repo.repo,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 558,
          "content": "                comment_id: botComment.id,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 559,
          "content": "                body: body",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 560,
          "content": "              });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 561,
          "content": "              console.log('Updated existing comment');",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 562,
          "content": "            } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 563,
          "content": "              // Create new comment",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 564,
          "content": "              await github.rest.issues.createComment({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 565,
          "content": "                owner: context.repo.owner,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 566,
          "content": "                repo: context.repo.repo,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 567,
          "content": "                issue_number: context.issue.number,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 568,
          "content": "                body: body",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 569,
          "content": "              });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 570,
          "content": "              console.log('Created new comment');",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 571,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 572,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 573,
          "content": "      - name: No AI attribution found",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 574,
          "content": "        if: steps.analyze.outputs.has_data != 'true'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 575,
          "content": "        run: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 576,
          "content": "          echo \"No AI attribution data found in this PR's commits.\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 577,
          "content": "          echo \"This is normal if the commits were not made with whogitit tracking enabled.\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 577,
        "ai_lines": 3,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 574,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/annotations.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "//! Annotations command - generate annotations for GitHub Checks API",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "//!",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "//! This command outputs annotation data that can be consumed by GitHub's Checks API",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "//! to display line-level AI attribution directly in the \"Files changed\" tab of PRs.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use std::cmp::Ordering;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use std::collections::{HashMap, HashSet};",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "use clap::{Args, ValueEnum};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "use colored::Colorize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "use git2::Repository;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "use serde::Serialize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "use crate::capture::snapshot::LineSource;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "use crate::core::attribution::BlameLineResult;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "use crate::core::blame::AIBlamer;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "use crate::storage::notes::NotesStore;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "use crate::utils::truncate_prompt;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "/// Output format for annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "#[derive(Debug, Clone, Copy, Default, ValueEnum)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "pub enum AnnotationsFormat {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    /// GitHub Checks API format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    #[default]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "    GithubChecks,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    /// Plain JSON array",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    Json,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "/// Consolidation mode for annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "#[derive(Debug, Clone, Copy, Default, ValueEnum)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "pub enum ConsolidateMode {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    /// Smart consolidation: file-level for new/high-AI files, granular for mixed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    #[default]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    Auto,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "    /// One annotation per file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "    File,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    /// Granular line-level annotations (original behavior)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "    Lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "/// Sort mode for file ordering",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "#[derive(Debug, Clone, Copy, Default, ValueEnum)]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "pub enum SortMode {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    /// Sort by AI coverage (highest first)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    #[default]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    Coverage,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    /// Sort by AI line count (highest first)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "    Lines,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    /// Sort alphabetically by path",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    Alpha,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "/// Annotation level (maps to GitHub Checks API annotation_level)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "#[derive(Debug, Clone, Copy, Serialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "#[serde(rename_all = \"lowercase\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "pub enum AnnotationLevel {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "    Notice,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    Warning,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "    Failure,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "/// A single annotation for the GitHub Checks API",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "#[derive(Debug, Clone, Serialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "pub struct CheckAnnotation {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    /// File path relative to repository root",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "    pub path: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "    /// Starting line number",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "    pub start_line: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "    /// Ending line number (same as start_line for single-line annotations)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "    pub end_line: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    /// Annotation level (notice, warning, failure)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "    pub annotation_level: AnnotationLevel,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    /// Short title for the annotation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "    pub title: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    /// Detailed message (shown when expanded)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    pub message: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "    /// Optional raw details (not rendered as markdown)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    #[serde(skip_serializing_if = \"Option::is_none\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    pub raw_details: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "/// Annotations command arguments",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "#[derive(Debug, Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "pub struct AnnotationsArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "    /// Base commit (exclusive) - defaults to first commit if not specified",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    pub base: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "    /// Head commit (inclusive) - defaults to HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "    #[arg(long, default_value = \"HEAD\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    pub head: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "    /// Output format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    #[arg(long, value_enum, default_value_t = AnnotationsFormat::GithubChecks)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "    pub format: AnnotationsFormat,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "    /// Consolidation mode: auto (smart), file (per-file), lines (granular)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "    #[arg(long, value_enum, default_value_t = ConsolidateMode::Auto)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "    pub consolidate: ConsolidateMode,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    /// AI coverage threshold for auto-consolidation (0.0-1.0, default 0.7)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "    #[arg(long, default_value = \"0.7\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "    pub consolidate_threshold: f64,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    /// Minimum number of AI lines to create an annotation (reduces noise)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    #[arg(long, default_value = \"1\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    pub min_lines: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "    /// Maximum annotations to output (GitHub limits to 50 per update)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "    #[arg(long, default_value = \"50\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "    pub max_annotations: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "    /// Only annotate pure AI lines (not AI-modified)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "    pub ai_only: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "    /// Minimum AI lines for a file to be annotated (filters insignificant files)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "    #[arg(long, default_value = \"3\")]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "    pub min_ai_lines: u32,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "    /// Minimum AI percentage for a file to be annotated (0.0-100.0)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "    #[arg(long, default_value = \"5.0\")]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "    pub min_ai_percent: f64,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "    /// Only annotate lines within the PR diff",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "    pub diff_only: bool,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "    /// Group AI and AIModified together in annotations",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "    pub group_ai_types: bool,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "    /// Sort files by: coverage (AI %), lines (AI count), alpha (path)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "    #[arg(long, value_enum, default_value_t = SortMode::Coverage)]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    pub sort_by: SortMode,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "    /// Maximum prompts for auto-consolidation (files with more prompts get granular annotations)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "    #[arg(long, default_value = \"3\")]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "    pub consolidate_prompt_limit: usize,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "/// Summary of a prompt with line count",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "#[derive(Debug, Clone)]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "struct PromptSummary {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "    /// Prompt preview text",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "    preview: String,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "    /// Full prompt text for raw_details",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "    full_text: String,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "    /// Number of lines affected by this prompt",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "    line_count: usize,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "/// File-level statistics for consolidation decisions",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "#[derive(Debug)]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "struct FileStats {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    path: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "    total_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "    ai_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "    ai_modified_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "    human_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "    original_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "    is_new_file: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "    /// All prompts with their line counts, sorted by line count descending",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    prompts: Vec<PromptSummary>,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "impl FileStats {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    fn ai_coverage(&self) -> f64 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "        if self.total_lines == 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "            0.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "            (self.ai_lines + self.ai_modified_lines) as f64 / self.total_lines as f64",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "    fn ai_total(&self) -> usize {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "        self.ai_lines + self.ai_modified_lines",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "    fn should_consolidate(&self, threshold: f64, prompt_limit: usize) -> bool {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "        // Consolidate if:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "        // 1. It's a new file (no original lines, all AI), OR",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "        // 2. High AI coverage AND few prompts (within prompt limit)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "        self.is_new_file || (self.ai_coverage() >= threshold && self.prompts.len() <= prompt_limit)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "/// Annotation candidate with priority scoring",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "struct AnnotationCandidate {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "    annotation: CheckAnnotation,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "    score: f64,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "/// Compute priority score for an annotation",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "fn compute_annotation_score(stats: &FileStats, is_in_diff: bool) -> f64 {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "    let mut score = 0.0;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "    // Up to 40 points for AI coverage",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "    score += stats.ai_coverage() * 40.0;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "    // Up to 30 points for AI line count (capped at 100 lines)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "    score += (stats.ai_total().min(100) as f64) * 0.3;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "    // Bonus for new files (AI created the entire file)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "    if stats.is_new_file {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "        score += 15.0;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "    // Bonus for being in PR diff",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "    if is_in_diff {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "        score += 15.0;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "    score",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "/// Check if repository is a shallow clone",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "fn is_shallow_clone(repo: &Repository) -> bool {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "    repo.is_shallow()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "/// Get changed line ranges from git diff for --diff-only filtering",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "fn get_diff_ranges(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "    repo: &Repository,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "    base: &str,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    head: &str,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": ") -> Result<HashMap<String, Vec<(u32, u32)>>> {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "    let base_obj = repo.revparse_single(base)?;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "    let head_obj = repo.revparse_single(head)?;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "    let base_tree = base_obj.peel_to_tree()?;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "    let head_tree = head_obj.peel_to_tree()?;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "    let diff = repo.diff_tree_to_tree(Some(&base_tree), Some(&head_tree), None)?;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "    let mut ranges: HashMap<String, Vec<(u32, u32)>> = HashMap::new();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "    diff.foreach(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "        &mut |_delta, _progress| true,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "        None,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "        Some(&mut |delta, hunk| {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "            if let Some(path) = delta.new_file().path() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "                let path_str = path.to_string_lossy().to_string();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "                let start = hunk.new_start();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "                let end = start + hunk.new_lines().saturating_sub(1);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "                ranges.entry(path_str).or_default().push((start, end));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "            true",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "        }),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "        None,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "    )?;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "    Ok(ranges)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "/// Check if a line range overlaps with diff ranges",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "fn overlaps_diff(start: u32, end: u32, diff_ranges: Option<&Vec<(u32, u32)>>) -> bool {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "    match diff_ranges {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "        None => true, // No diff filtering",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "        Some(ranges) => ranges.iter().any(|(ds, de)| {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "            // Ranges overlap if start <= de and end >= ds",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "            start <= *de && end >= *ds",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "        }),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "/// Format timestamp range for display",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "fn format_session_range(earliest: Option<&str>, latest: Option<&str>) -> Option<String> {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "    match (earliest, latest) {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "        (Some(e), Some(l)) if e != l => {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "            // Extract just the date portion",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "            let e_date = e.split('T').next().unwrap_or(e);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "            let l_date = l.split('T').next().unwrap_or(l);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "            if e_date != l_date {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "                Some(format!(\"{} to {}\", e_date, l_date))",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "            } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "                Some(e_date.to_string())",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "        (Some(e), _) => {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "            let e_date = e.split('T').next().unwrap_or(e);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "            Some(e_date.to_string())",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "        _ => None,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "/// Run the annotations command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "pub fn run(args: AnnotationsArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "    let repo = Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "    // Determine effective consolidation mode for shallow clones",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "    let is_shallow = is_shallow_clone(&repo);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "    let effective_consolidate = if is_shallow {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "        eprintln!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "            \"{} Shallow clone detected - using file-level annotations only.\",",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "            \"Warning:\".yellow()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "        ConsolidateMode::File",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "        args.consolidate",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "    let notes_store = NotesStore::new(&repo)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "    let mut blamer = AIBlamer::new(&repo)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "    // Resolve head commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "    let head_obj = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "        .revparse_single(&args.head)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "        .with_context(|| format!(\"Failed to resolve: {}\", args.head))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "    let head_commit = head_obj",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "        .peel_to_commit()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "        .with_context(|| format!(\"Not a valid commit: {}\", args.head))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "    // Get commits to analyze",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "    let mut revwalk = repo.revwalk()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "    revwalk.push(head_commit.id())?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "    // If base is specified, exclude it and its ancestors",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "    if let Some(base_ref) = &args.base {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "        let base_obj = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "            .revparse_single(base_ref)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "            .with_context(|| format!(\"Failed to resolve base: {}\", base_ref))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "        let base_commit = base_obj",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "            .peel_to_commit()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "            .with_context(|| format!(\"Not a valid commit: {}\", base_ref))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "        revwalk.hide(base_commit.id())?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "    // Calculate diff ranges if --diff-only is enabled",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "    let diff_ranges: Option<HashMap<String, Vec<(u32, u32)>>> = if args.diff_only {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "        if let Some(base_ref) = &args.base {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "            match get_diff_ranges(&repo, base_ref, &args.head) {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "                Ok(ranges) => Some(ranges),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "                Err(e) => {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "                    eprintln!(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "                        \"{} Could not compute diff ranges: {}. Disabling --diff-only.\",",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "                        \"Warning:\".yellow(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "                        e",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "                    );",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "                    None",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "            eprintln!(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "                \"{} --diff-only requires --base to be specified. Ignoring --diff-only.\",",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "                \"Warning:\".yellow()",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "            );",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "            None",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "        None",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "    // Collect all files changed in the commit range with AI attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "    // Also track all models and timestamps",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "    let mut files_to_annotate: Vec<String> = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "    let mut file_ai_stats: HashMap<String, (usize, f64)> = HashMap::new(); // path -> (ai_lines, ai_percent)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "    let mut models_used: HashSet<String> = HashSet::new();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "    let mut earliest_timestamp: Option<String> = None;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "    let mut latest_timestamp: Option<String> = None;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "    for oid_result in revwalk {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "        let oid = oid_result?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "        if let Ok(Some(attr)) = notes_store.fetch_attribution(oid) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "            // Track model",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "            models_used.insert(attr.session.model.id.clone());",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "            // Track timestamps",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "            let ts = &attr.session.started_at;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "            match &earliest_timestamp {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "                None => earliest_timestamp = Some(ts.clone()),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "                Some(e) if ts < e => earliest_timestamp = Some(ts.clone()),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "                _ => {}",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "            match &latest_timestamp {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "                None => latest_timestamp = Some(ts.clone()),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "                Some(l) if ts > l => latest_timestamp = Some(ts.clone()),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "                _ => {}",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "            for file in &attr.files {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "                let ai_total = file.summary.ai_lines + file.summary.ai_modified_lines;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "                let total = file.summary.total_lines;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "                let ai_percent = if total > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "                    (ai_total as f64 / total as f64) * 100.0",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "                } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "                    0.0",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "                };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "                // Apply significance filters",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "                if (ai_total as u32) < args.min_ai_lines {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "                    continue;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "                if ai_percent < args.min_ai_percent {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "                    continue;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "                if !files_to_annotate.contains(&file.path) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "                    files_to_annotate.push(file.path.clone());",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "                    file_ai_stats.insert(file.path.clone(), (ai_total, ai_percent));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "    // Sort files by selected criteria",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "    files_to_annotate.sort_by(|a, b| {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "        let (ai_a, pct_a) = file_ai_stats.get(a).copied().unwrap_or((0, 0.0));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "        let (ai_b, pct_b) = file_ai_stats.get(b).copied().unwrap_or((0, 0.0));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "        match args.sort_by {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "            SortMode::Coverage => pct_b",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "                .partial_cmp(&pct_a)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "                .unwrap_or(Ordering::Equal)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "                .then_with(|| a.cmp(b)),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "            SortMode::Lines => ai_b.cmp(&ai_a).then_with(|| a.cmp(b)),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "            SortMode::Alpha => a.cmp(b),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "    });",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "    // Prepare model info for annotations",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "    let models: Vec<String> = models_used.into_iter().collect();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "    let session_range =",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "        format_session_range(earliest_timestamp.as_deref(), latest_timestamp.as_deref());",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "    // Generate annotations for each file, collecting candidates for prioritization",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "    let mut candidates: Vec<AnnotationCandidate> = Vec::new();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "    for file_path in &files_to_annotate {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "        // Check if file is in diff (for scoring and --diff-only filtering)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "        let file_diff_ranges = diff_ranges.as_ref().and_then(|dr| dr.get(file_path));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "        let is_in_diff = file_diff_ranges.is_some() || diff_ranges.is_none();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "        // Run blame on the file at HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "        let blame_result = match blamer.blame(file_path, Some(&args.head)) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "            Ok(result) => result,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "            Err(_) => continue, // Skip files that can't be blamed (deleted, etc.)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "        // Compute file stats for consolidation decision",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "        let file_stats = compute_file_stats(file_path, &blame_result.lines);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "        // Decide whether to consolidate based on mode",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "        let should_consolidate = match effective_consolidate {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "            ConsolidateMode::Auto => file_stats",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "                .should_consolidate(args.consolidate_threshold, args.consolidate_prompt_limit),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "            ConsolidateMode::File => true,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "            ConsolidateMode::Lines => false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "        let score = compute_annotation_score(&file_stats, is_in_diff);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "        if should_consolidate {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "            // Create a single file-level annotation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "            if let Some(annotation) =",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "                create_file_annotation(&file_stats, &models, session_range.as_deref())",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "            {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "                // For file-level, check if the file itself is in diff",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "                if diff_ranges.is_none() || is_in_diff {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "                    candidates.push(AnnotationCandidate { annotation, score });",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "            // Create granular line-level annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "            let line_annotations = create_line_annotations(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "                file_path,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "                &blame_result.lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "                args.ai_only,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "                args.group_ai_types,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "                args.min_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "                &models,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "                session_range.as_deref(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "            for annotation in line_annotations {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "                // Filter by diff ranges if --diff-only is enabled",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "                if overlaps_diff(annotation.start_line, annotation.end_line, file_diff_ranges) {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "                    candidates.push(AnnotationCandidate { annotation, score });",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "    // Sort candidates by score descending",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "    candidates.sort_by(|a, b| b.score.partial_cmp(&a.score).unwrap_or(Ordering::Equal));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "    // Truncate to max_annotations",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "    let annotations: Vec<CheckAnnotation> = candidates",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "        .into_iter()",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "        .take(args.max_annotations)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 495,
          "content": "        .map(|c| c.annotation)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 496,
          "content": "        .collect();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 497,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 498,
          "content": "    // Output based on format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 499,
          "content": "    match args.format {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 500,
          "content": "        AnnotationsFormat::GithubChecks => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 501,
          "content": "            let output = GithubChecksOutput {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 502,
          "content": "                annotations,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 503,
          "content": "                summary: GithubChecksSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 504,
          "content": "                    files_analyzed: files_to_annotate.len(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 505,
          "content": "                    models,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 506,
          "content": "                    session_range,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 507,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 508,
          "content": "            };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 509,
          "content": "            println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 510,
          "content": "                \"{}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 511,
          "content": "                serde_json::to_string_pretty(&output).unwrap_or_else(|_| \"{}\".to_string())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 512,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 513,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 514,
          "content": "        AnnotationsFormat::Json => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 515,
          "content": "            println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 516,
          "content": "                \"{}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 517,
          "content": "                serde_json::to_string_pretty(&annotations).unwrap_or_else(|_| \"[]\".to_string())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 518,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 519,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 520,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 521,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 522,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 523,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 524,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 525,
          "content": "/// Compute statistics for a file to help with consolidation decisions",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 526,
          "content": "fn compute_file_stats(path: &str, lines: &[BlameLineResult]) -> FileStats {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 527,
          "content": "    let mut ai_lines = 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 528,
          "content": "    let mut ai_modified_lines = 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 529,
          "content": "    let mut human_lines = 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 530,
          "content": "    let mut original_lines = 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 531,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 532,
          "content": "    // Track prompts by index to avoid duplicate counting from truncated text",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 533,
          "content": "    let mut prompt_line_counts: HashMap<u32, usize> = HashMap::new();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 534,
          "content": "    let mut prompt_previews: HashMap<u32, String> = HashMap::new();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 535,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 536,
          "content": "    for line in lines {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 537,
          "content": "        match &line.source {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 538,
          "content": "            LineSource::AI { .. } => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 539,
          "content": "                ai_lines += 1;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 540,
          "content": "                if let Some(idx) = line.prompt_index {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 541,
          "content": "                    *prompt_line_counts.entry(idx).or_insert(0) += 1;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 542,
          "content": "                    if let Some(ref preview) = line.prompt_preview {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 543,
          "content": "                        prompt_previews",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 544,
          "content": "                            .entry(idx)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 545,
          "content": "                            .or_insert_with(|| preview.clone());",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 546,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 547,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 548,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 549,
          "content": "            LineSource::AIModified { .. } => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 550,
          "content": "                ai_modified_lines += 1;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 551,
          "content": "                if let Some(idx) = line.prompt_index {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 552,
          "content": "                    *prompt_line_counts.entry(idx).or_insert(0) += 1;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 553,
          "content": "                    if let Some(ref preview) = line.prompt_preview {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 554,
          "content": "                        prompt_previews",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 555,
          "content": "                            .entry(idx)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 556,
          "content": "                            .or_insert_with(|| preview.clone());",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 557,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 558,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 559,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 560,
          "content": "            LineSource::Human => human_lines += 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 561,
          "content": "            LineSource::Original => original_lines += 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 562,
          "content": "            LineSource::Unknown => {}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 563,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 564,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 565,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 566,
          "content": "    let is_new_file = original_lines == 0 && (ai_lines + ai_modified_lines + human_lines) > 0;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 567,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 568,
          "content": "    // Build sorted prompt summaries (by line count, descending)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 569,
          "content": "    let mut prompts: Vec<PromptSummary> = prompt_line_counts",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 570,
          "content": "        .into_iter()",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 571,
          "content": "        .map(|(idx, count)| {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 572,
          "content": "            let preview = prompt_previews.get(&idx).cloned().unwrap_or_default();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 573,
          "content": "            PromptSummary {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 574,
          "content": "                preview: preview.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 575,
          "content": "                full_text: preview, // Note: We only have the preview here; full text would need blame enhancement",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 576,
          "content": "                line_count: count,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 577,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 578,
          "content": "        })",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 579,
          "content": "        .collect();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 580,
          "content": "    prompts.sort_by(|a, b| b.line_count.cmp(&a.line_count));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 581,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 582,
          "content": "    FileStats {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 583,
          "content": "        path: path.to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 584,
          "content": "        total_lines: lines.len(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 585,
          "content": "        ai_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 586,
          "content": "        ai_modified_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 587,
          "content": "        human_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 588,
          "content": "        original_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 589,
          "content": "        is_new_file,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 590,
          "content": "        prompts,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 591,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 592,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 593,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 594,
          "content": "/// Create a single file-level annotation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 595,
          "content": "fn create_file_annotation(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 596,
          "content": "    stats: &FileStats,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 597,
          "content": "    models: &[String],",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 598,
          "content": "    session_range: Option<&str>,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 599,
          "content": ") -> Option<CheckAnnotation> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 600,
          "content": "    let ai_total = stats.ai_total();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 601,
          "content": "    if ai_total == 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 602,
          "content": "        return None;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 603,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 604,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 605,
          "content": "    let title = if stats.is_new_file {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 606,
          "content": "        format!(\"New file ({} lines) generated by AI\", stats.total_lines)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 607,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 608,
          "content": "        let pct = (stats.ai_coverage() * 100.0).round() as u32;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 609,
          "content": "        format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 610,
          "content": "            \"{}% AI-generated ({} of {} lines)\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 611,
          "content": "            pct, ai_total, stats.total_lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 612,
          "content": "        )",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 613,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 614,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 615,
          "content": "    // Build message",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 616,
          "content": "    let mut message_lines = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 617,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 618,
          "content": "    // Metadata line",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 619,
          "content": "    let mut meta_parts = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 620,
          "content": "    if !models.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 621,
          "content": "        if models.len() == 1 {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 622,
          "content": "            meta_parts.push(format!(\"Model: {}\", models[0]));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 623,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 624,
          "content": "            meta_parts.push(format!(\"Models: {}\", models.join(\", \")));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 625,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 626,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 627,
          "content": "    if let Some(range) = session_range {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 628,
          "content": "        meta_parts.push(format!(\"Session: {}\", range));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 629,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 630,
          "content": "    if !meta_parts.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 631,
          "content": "        message_lines.push(meta_parts.join(\" | \"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 632,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 633,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 634,
          "content": "    // Stats breakdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 635,
          "content": "    message_lines.push(String::new());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 636,
          "content": "    message_lines.push(format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 637,
          "content": "        \"**Breakdown:** {} AI, {} AI-modified, {} human, {} original\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 638,
          "content": "        stats.ai_lines, stats.ai_modified_lines, stats.human_lines, stats.original_lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 639,
          "content": "    ));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 640,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 641,
          "content": "    // Prompts - show multiple prompts with line counts",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 642,
          "content": "    if stats.prompts.len() == 1 {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 643,
          "content": "        let prompt = &stats.prompts[0];",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 644,
          "content": "        message_lines.push(String::new());",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 645,
          "content": "        message_lines.push(format!(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 646,
          "content": "            \"**Prompt:** {}\",",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 647,
          "content": "            truncate_prompt(&prompt.preview, 200)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 648,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 649,
          "content": "    } else if stats.prompts.len() > 1 {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 650,
          "content": "        message_lines.push(String::new());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 651,
          "content": "        message_lines.push(format!(\"**Prompts:** {} prompts used\", stats.prompts.len()));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 652,
          "content": "        for (i, prompt) in stats.prompts.iter().take(3).enumerate() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 653,
          "content": "            message_lines.push(format!(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 654,
          "content": "                \"{}. {} ({} lines)\",",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 655,
          "content": "                i + 1,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 656,
          "content": "                truncate_prompt(&prompt.preview, 100),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 657,
          "content": "                prompt.line_count",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 658,
          "content": "            ));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 659,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 660,
          "content": "        if stats.prompts.len() > 3 {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 661,
          "content": "            message_lines.push(format!(\"   ...and {} more\", stats.prompts.len() - 3));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 662,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 663,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 664,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 665,
          "content": "    // Build raw_details with all prompt texts",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 666,
          "content": "    let raw_details = if stats.prompts.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 667,
          "content": "        None",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 668,
          "content": "    } else if stats.prompts.len() == 1 {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 669,
          "content": "        Some(stats.prompts[0].full_text.clone())",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 670,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 671,
          "content": "        Some(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 672,
          "content": "            stats",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 673,
          "content": "                .prompts",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 674,
          "content": "                .iter()",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 675,
          "content": "                .enumerate()",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 676,
          "content": "                .map(|(i, p)| format!(\"Prompt {}: {}\", i + 1, p.full_text))",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 677,
          "content": "                .collect::<Vec<_>>()",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 678,
          "content": "                .join(\"\\n\\n\"),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 679,
          "content": "        )",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 680,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 681,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 682,
          "content": "    Some(CheckAnnotation {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 683,
          "content": "        path: stats.path.clone(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 684,
          "content": "        start_line: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 685,
          "content": "        end_line: stats.total_lines as u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 686,
          "content": "        annotation_level: AnnotationLevel::Notice,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 687,
          "content": "        title,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 688,
          "content": "        message: message_lines.join(\"\\n\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 689,
          "content": "        raw_details,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 690,
          "content": "    })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 691,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 692,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 693,
          "content": "/// Create granular line-level annotations for a file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 694,
          "content": "fn create_line_annotations(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 695,
          "content": "    file_path: &str,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 696,
          "content": "    lines: &[BlameLineResult],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 697,
          "content": "    ai_only: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 698,
          "content": "    group_ai_types: bool,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 699,
          "content": "    min_lines: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 700,
          "content": "    models: &[String],",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 701,
          "content": "    session_range: Option<&str>,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 702,
          "content": ") -> Vec<CheckAnnotation> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 703,
          "content": "    let groups = group_ai_lines(lines, ai_only, group_ai_types);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 704,
          "content": "    let mut annotations = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 705,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 706,
          "content": "    for group in groups {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 707,
          "content": "        let line_count = group.end_line - group.start_line + 1;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 708,
          "content": "        if line_count < min_lines {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 709,
          "content": "            continue;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 710,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 711,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 712,
          "content": "        let title = match group.source_type {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 713,
          "content": "            GroupSourceType::AI => format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 714,
          "content": "                \"AI Generated ({} line{})\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 715,
          "content": "                line_count,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 716,
          "content": "                if line_count > 1 { \"s\" } else { \"\" }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 717,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 718,
          "content": "            GroupSourceType::AIModified => format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 719,
          "content": "                \"AI Modified ({} line{})\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 720,
          "content": "                line_count,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 721,
          "content": "                if line_count > 1 { \"s\" } else { \"\" }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 722,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 723,
          "content": "            GroupSourceType::AIRelated => {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 724,
          "content": "                // Show breakdown when grouping AI types together",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 725,
          "content": "                if group.ai_modified_count > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 726,
          "content": "                    format!(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 727,
          "content": "                        \"AI Related ({} lines: {} AI, {} AI-modified)\",",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 728,
          "content": "                        line_count, group.ai_count, group.ai_modified_count",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 729,
          "content": "                    )",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 730,
          "content": "                } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 731,
          "content": "                    format!(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 732,
          "content": "                        \"AI Generated ({} line{})\",",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 733,
          "content": "                        line_count,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 734,
          "content": "                        if line_count > 1 { \"s\" } else { \"\" }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 735,
          "content": "                    )",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 736,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 737,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 738,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 739,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 740,
          "content": "        // Build message",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 741,
          "content": "        let mut message_lines = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 742,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 743,
          "content": "        // Metadata",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 744,
          "content": "        let mut meta_parts = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 745,
          "content": "        if !models.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 746,
          "content": "            if models.len() == 1 {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 747,
          "content": "                meta_parts.push(format!(\"Model: {}\", models[0]));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 748,
          "content": "            } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 749,
          "content": "                meta_parts.push(format!(\"Models: {}\", models.join(\", \")));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 750,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 751,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 752,
          "content": "        if let Some(range) = session_range {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 753,
          "content": "            meta_parts.push(format!(\"Session: {}\", range));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 754,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 755,
          "content": "        if !meta_parts.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 756,
          "content": "            message_lines.push(meta_parts.join(\" | \"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 757,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 758,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 759,
          "content": "        // Prompt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 760,
          "content": "        if let Some(ref prompt) = group.prompt_preview {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 761,
          "content": "            message_lines.push(String::new());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 762,
          "content": "            message_lines.push(format!(\"**Prompt:** {}\", truncate_prompt(prompt, 200)));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 763,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 764,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 765,
          "content": "        let message = if message_lines.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 766,
          "content": "            match group.source_type {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 767,
          "content": "                GroupSourceType::AI => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 768,
          "content": "                    \"These lines were generated by AI and committed unchanged.\".to_string()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 769,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 770,
          "content": "                GroupSourceType::AIModified => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 771,
          "content": "                    \"These lines were generated by AI and then modified by a human.\".to_string()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 772,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 773,
          "content": "                GroupSourceType::AIRelated => {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 774,
          "content": "                    \"These lines were generated or modified by AI.\".to_string()",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 775,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 776,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 777,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 778,
          "content": "            message_lines.join(\"\\n\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 779,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 780,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 781,
          "content": "        annotations.push(CheckAnnotation {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 782,
          "content": "            path: file_path.to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 783,
          "content": "            start_line: group.start_line,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 784,
          "content": "            end_line: group.end_line,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 785,
          "content": "            annotation_level: AnnotationLevel::Notice,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 786,
          "content": "            title,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 787,
          "content": "            message,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 788,
          "content": "            raw_details: group.prompt_preview.clone(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 789,
          "content": "        });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 790,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 791,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 792,
          "content": "    annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 793,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 794,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 795,
          "content": "/// Output format for GitHub Checks API",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 796,
          "content": "#[derive(Debug, Serialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 797,
          "content": "struct GithubChecksOutput {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 798,
          "content": "    annotations: Vec<CheckAnnotation>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 799,
          "content": "    summary: GithubChecksSummary,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 800,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 801,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 802,
          "content": "#[derive(Debug, Serialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 803,
          "content": "struct GithubChecksSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 804,
          "content": "    files_analyzed: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 805,
          "content": "    /// All models used across the analyzed commits",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 806,
          "content": "    models: Vec<String>,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 807,
          "content": "    /// Session time range (e.g., \"2024-01-15 to 2024-01-20\")",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 808,
          "content": "    #[serde(skip_serializing_if = \"Option::is_none\")]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 809,
          "content": "    session_range: Option<String>,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 810,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 811,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 812,
          "content": "/// Grouped annotations for a contiguous range of AI lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 813,
          "content": "#[derive(Debug)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 814,
          "content": "struct AnnotationGroup {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 815,
          "content": "    start_line: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 816,
          "content": "    end_line: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 817,
          "content": "    source_type: GroupSourceType,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 818,
          "content": "    prompt_preview: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 819,
          "content": "    /// When grouping AI types, track individual counts",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 820,
          "content": "    ai_count: usize,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 821,
          "content": "    ai_modified_count: usize,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 822,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 823,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 824,
          "content": "#[derive(Debug, Clone, Copy, PartialEq)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 825,
          "content": "enum GroupSourceType {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 826,
          "content": "    AI,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 827,
          "content": "    AIModified,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 828,
          "content": "    /// Combined AI and AIModified (when --group-ai-types is used)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 829,
          "content": "    AIRelated,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 830,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 831,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 832,
          "content": "/// Group consecutive AI lines into annotation ranges",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 833,
          "content": "fn group_ai_lines(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 834,
          "content": "    lines: &[BlameLineResult],",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 835,
          "content": "    ai_only: bool,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 836,
          "content": "    group_ai_types: bool,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 837,
          "content": ") -> Vec<AnnotationGroup> {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 838,
          "content": "    let mut groups: Vec<AnnotationGroup> = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 839,
          "content": "    let mut current_group: Option<AnnotationGroup> = None;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 840,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 841,
          "content": "    for line in lines {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 842,
          "content": "        // Determine source type and whether it's AI or AIModified",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 843,
          "content": "        let (source_type, is_pure_ai) = match &line.source {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 844,
          "content": "            LineSource::AI { .. } => {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 845,
          "content": "                if group_ai_types {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 846,
          "content": "                    (Some(GroupSourceType::AIRelated), true)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 847,
          "content": "                } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 848,
          "content": "                    (Some(GroupSourceType::AI), true)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 849,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 850,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 851,
          "content": "            LineSource::AIModified { .. } if !ai_only => {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 852,
          "content": "                if group_ai_types {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 853,
          "content": "                    (Some(GroupSourceType::AIRelated), false)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 854,
          "content": "                } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 855,
          "content": "                    (Some(GroupSourceType::AIModified), false)",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 856,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 857,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 858,
          "content": "            _ => (None, false),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 859,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 860,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 861,
          "content": "        if let Some(stype) = source_type {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 862,
          "content": "            match &mut current_group {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 863,
          "content": "                Some(group)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 864,
          "content": "                    if group.source_type == stype && group.end_line + 1 == line.line_number =>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 865,
          "content": "                {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 866,
          "content": "                    // Extend current group",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 867,
          "content": "                    group.end_line = line.line_number;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 868,
          "content": "                    if is_pure_ai {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 869,
          "content": "                        group.ai_count += 1;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 870,
          "content": "                    } else {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 871,
          "content": "                        group.ai_modified_count += 1;",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 872,
          "content": "                    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 873,
          "content": "                    // Update prompt if we don't have one yet",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 874,
          "content": "                    if group.prompt_preview.is_none() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 875,
          "content": "                        group.prompt_preview = line.prompt_preview.clone();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 876,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 877,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 878,
          "content": "                _ => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 879,
          "content": "                    // Start a new group (save current if exists)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 880,
          "content": "                    if let Some(g) = current_group.take() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 881,
          "content": "                        groups.push(g);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 882,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 883,
          "content": "                    current_group = Some(AnnotationGroup {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 884,
          "content": "                        start_line: line.line_number,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 885,
          "content": "                        end_line: line.line_number,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 886,
          "content": "                        source_type: stype,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 887,
          "content": "                        prompt_preview: line.prompt_preview.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 888,
          "content": "                        ai_count: if is_pure_ai { 1 } else { 0 },",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 889,
          "content": "                        ai_modified_count: if is_pure_ai { 0 } else { 1 },",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 890,
          "content": "                    });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 891,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 892,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 893,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 894,
          "content": "            // Non-AI line - close current group if any",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 895,
          "content": "            if let Some(g) = current_group.take() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 896,
          "content": "                groups.push(g);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 897,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 898,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 899,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 900,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 901,
          "content": "    // Don't forget the last group",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 902,
          "content": "    if let Some(g) = current_group {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 903,
          "content": "        groups.push(g);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 904,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 905,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 906,
          "content": "    groups",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 907,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 908,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 909,
          "content": "#[cfg(test)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 910,
          "content": "mod tests {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 911,
          "content": "    use super::*;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 912,
          "content": "    use crate::capture::snapshot::LineSource;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 913,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 914,
          "content": "    fn make_line(line_number: u32, source: LineSource) -> BlameLineResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 915,
          "content": "        BlameLineResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 916,
          "content": "            line_number,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 917,
          "content": "            content: format!(\"line {}\", line_number),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 918,
          "content": "            commit_id: \"abc123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 919,
          "content": "            commit_short: \"abc123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 920,
          "content": "            author: \"Test\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 921,
          "content": "            source,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 922,
          "content": "            prompt_index: Some(0),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 923,
          "content": "            prompt_preview: Some(\"Test prompt\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 924,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 925,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 926,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 927,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 928,
          "content": "    fn test_group_consecutive_ai_lines() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 929,
          "content": "        let lines = vec![",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 930,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 931,
          "content": "                1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 932,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 933,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 934,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 935,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 936,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 937,
          "content": "                2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 938,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 939,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 940,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 941,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 942,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 943,
          "content": "                3,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 944,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 945,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 946,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 947,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 948,
          "content": "            make_line(4, LineSource::Human),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 949,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 950,
          "content": "                5,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 951,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 952,
          "content": "                    edit_id: \"e2\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 953,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 954,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 955,
          "content": "        ];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 956,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 957,
          "content": "        let groups = group_ai_lines(&lines, false, false);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 958,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 959,
          "content": "        assert_eq!(groups.len(), 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 960,
          "content": "        assert_eq!(groups[0].start_line, 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 961,
          "content": "        assert_eq!(groups[0].end_line, 3);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 962,
          "content": "        assert_eq!(groups[1].start_line, 5);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 963,
          "content": "        assert_eq!(groups[1].end_line, 5);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 964,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 965,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 966,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 967,
          "content": "    fn test_group_mixed_ai_and_modified() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 968,
          "content": "        let lines = vec![",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 969,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 970,
          "content": "                1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 971,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 972,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 973,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 974,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 975,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 976,
          "content": "                2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 977,
          "content": "                LineSource::AIModified {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 978,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 979,
          "content": "                    similarity: 0.8,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 980,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 981,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 982,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 983,
          "content": "                3,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 984,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 985,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 986,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 987,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 988,
          "content": "        ];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 989,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 990,
          "content": "        // With ai_only=false, group_ai_types=false: AI and AIModified are separate groups",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 991,
          "content": "        let groups = group_ai_lines(&lines, false, false);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 992,
          "content": "        assert_eq!(groups.len(), 3);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 993,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 994,
          "content": "        // With ai_only=true: AIModified is skipped",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 995,
          "content": "        let groups_ai_only = group_ai_lines(&lines, true, false);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 996,
          "content": "        assert_eq!(groups_ai_only.len(), 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 997,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 998,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 999,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1000,
          "content": "    fn test_annotation_serialization() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1001,
          "content": "        let annotation = CheckAnnotation {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1002,
          "content": "            path: \"src/main.rs\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1003,
          "content": "            start_line: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1004,
          "content": "            end_line: 5,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1005,
          "content": "            annotation_level: AnnotationLevel::Notice,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1006,
          "content": "            title: \"AI Generated (5 lines)\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1007,
          "content": "            message: \"Model: claude-opus-4-5-20251101\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1008,
          "content": "            raw_details: Some(\"Prompt: Add main function\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1009,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1010,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1011,
          "content": "        let json = serde_json::to_string(&annotation).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1012,
          "content": "        assert!(json.contains(\"\\\"annotation_level\\\":\\\"notice\\\"\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1013,
          "content": "        assert!(json.contains(\"\\\"start_line\\\":1\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1014,
          "content": "        assert!(json.contains(\"\\\"end_line\\\":5\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1015,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1016,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1017,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1018,
          "content": "    fn test_file_stats_new_file() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1019,
          "content": "        let lines = vec![",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1020,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1021,
          "content": "                1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1022,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1023,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1024,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1025,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1026,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1027,
          "content": "                2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1028,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1029,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1030,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1031,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1032,
          "content": "        ];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1033,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1034,
          "content": "        let stats = compute_file_stats(\"test.rs\", &lines);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1035,
          "content": "        assert!(stats.is_new_file);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1036,
          "content": "        assert_eq!(stats.ai_lines, 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1037,
          "content": "        assert_eq!(stats.original_lines, 0);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1038,
          "content": "        assert!(stats.should_consolidate(0.7, 3)); // New files always consolidate",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1039,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1040,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1041,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1042,
          "content": "    fn test_file_stats_mixed_file() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1043,
          "content": "        let lines = vec![",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1044,
          "content": "            make_line(1, LineSource::Original),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1045,
          "content": "            make_line(2, LineSource::Original),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1046,
          "content": "            make_line(3, LineSource::Original),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1047,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1048,
          "content": "                4,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1049,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1050,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1051,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1052,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1053,
          "content": "        ];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1054,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1055,
          "content": "        let stats = compute_file_stats(\"test.rs\", &lines);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1056,
          "content": "        assert!(!stats.is_new_file);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1057,
          "content": "        assert_eq!(stats.ai_coverage(), 0.25);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1058,
          "content": "        assert!(!stats.should_consolidate(0.7, 3)); // Below threshold",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1059,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1060,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1061,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1062,
          "content": "    fn test_file_stats_high_ai_coverage() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1063,
          "content": "        let lines = vec![",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1064,
          "content": "            make_line(1, LineSource::Original),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1065,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1066,
          "content": "                2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1067,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1068,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1069,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1070,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1071,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1072,
          "content": "                3,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1073,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1074,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1075,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1076,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1077,
          "content": "            make_line(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1078,
          "content": "                4,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1079,
          "content": "                LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1080,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1081,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1082,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1083,
          "content": "        ];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1084,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1085,
          "content": "        let stats = compute_file_stats(\"test.rs\", &lines);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1086,
          "content": "        assert!(!stats.is_new_file);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1087,
          "content": "        assert_eq!(stats.ai_coverage(), 0.75);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1088,
          "content": "        assert!(stats.should_consolidate(0.7, 3)); // Above threshold, single prompt",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1089,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1090,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1091,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1092,
          "content": "    fn test_group_ai_types_combined() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1093,
          "content": "        // When group_ai_types=true, AI and AIModified should merge into one group",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1094,
          "content": "        let lines = vec![",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1095,
          "content": "            make_line(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1096,
          "content": "                1,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1097,
          "content": "                LineSource::AI {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1098,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1099,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1100,
          "content": "            ),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1101,
          "content": "            make_line(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1102,
          "content": "                2,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1103,
          "content": "                LineSource::AIModified {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1104,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1105,
          "content": "                    similarity: 0.8,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1106,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1107,
          "content": "            ),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1108,
          "content": "            make_line(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1109,
          "content": "                3,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1110,
          "content": "                LineSource::AI {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1111,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1112,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1113,
          "content": "            ),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1114,
          "content": "        ];",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1115,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1116,
          "content": "        // Without grouping: 3 separate groups",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1117,
          "content": "        let groups_ungrouped = group_ai_lines(&lines, false, false);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1118,
          "content": "        assert_eq!(groups_ungrouped.len(), 3);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1119,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1120,
          "content": "        // With grouping: 1 combined group",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1121,
          "content": "        let groups_grouped = group_ai_lines(&lines, false, true);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1122,
          "content": "        assert_eq!(groups_grouped.len(), 1);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1123,
          "content": "        assert_eq!(groups_grouped[0].source_type, GroupSourceType::AIRelated);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1124,
          "content": "        assert_eq!(groups_grouped[0].ai_count, 2);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1125,
          "content": "        assert_eq!(groups_grouped[0].ai_modified_count, 1);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1126,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1127,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1128,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1129,
          "content": "    fn test_annotation_scoring() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1130,
          "content": "        // High AI coverage file",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1131,
          "content": "        let high_coverage = FileStats {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1132,
          "content": "            path: \"high.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1133,
          "content": "            total_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1134,
          "content": "            ai_lines: 90,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1135,
          "content": "            ai_modified_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1136,
          "content": "            human_lines: 3,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1137,
          "content": "            original_lines: 2,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1138,
          "content": "            is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1139,
          "content": "            prompts: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1140,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1141,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1142,
          "content": "        // Low AI coverage file",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1143,
          "content": "        let low_coverage = FileStats {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1144,
          "content": "            path: \"low.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1145,
          "content": "            total_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1146,
          "content": "            ai_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1147,
          "content": "            ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1148,
          "content": "            human_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1149,
          "content": "            original_lines: 40,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1150,
          "content": "            is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1151,
          "content": "            prompts: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1152,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1153,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1154,
          "content": "        let high_score = compute_annotation_score(&high_coverage, true);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1155,
          "content": "        let low_score = compute_annotation_score(&low_coverage, false);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1156,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1157,
          "content": "        // High coverage + in diff should score higher than low coverage + not in diff",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1158,
          "content": "        assert!(high_score > low_score);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1159,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 1160,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1161,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1162,
          "content": "    fn test_new_file_bonus_in_scoring() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1163,
          "content": "        let new_file = FileStats {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1164,
          "content": "            path: \"new.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1165,
          "content": "            total_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1166,
          "content": "            ai_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1167,
          "content": "            ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1168,
          "content": "            human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1169,
          "content": "            original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1170,
          "content": "            is_new_file: true,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1171,
          "content": "            prompts: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1172,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1173,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1174,
          "content": "        let existing_file = FileStats {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1175,
          "content": "            path: \"existing.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1176,
          "content": "            total_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1177,
          "content": "            ai_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1178,
          "content": "            ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1179,
          "content": "            human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1180,
          "content": "            original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1181,
          "content": "            is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1182,
          "content": "            prompts: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1183,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1184,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1185,
          "content": "        let new_score = compute_annotation_score(&new_file, false);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1186,
          "content": "        let existing_score = compute_annotation_score(&existing_file, false);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1187,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1188,
          "content": "        // New file should get bonus points",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1189,
          "content": "        assert!(new_score > existing_score);",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1190,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1191,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1192,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1193,
          "content": "    fn test_diff_overlap() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1194,
          "content": "        // Test that overlaps_diff works correctly",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1195,
          "content": "        let ranges = vec![(10, 20), (30, 40)];",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1196,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1197,
          "content": "        // Line range fully within a diff range",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1198,
          "content": "        assert!(overlaps_diff(12, 18, Some(&ranges)));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1199,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1200,
          "content": "        // Line range overlapping start of diff",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1201,
          "content": "        assert!(overlaps_diff(5, 15, Some(&ranges)));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1202,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1203,
          "content": "        // Line range overlapping end of diff",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1204,
          "content": "        assert!(overlaps_diff(18, 25, Some(&ranges)));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1205,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1206,
          "content": "        // Line range outside all diff ranges",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1207,
          "content": "        assert!(!overlaps_diff(22, 28, Some(&ranges)));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1208,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1209,
          "content": "        // No diff ranges means everything overlaps",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1210,
          "content": "        assert!(overlaps_diff(100, 200, None));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1211,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1212,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1213,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1214,
          "content": "    fn test_consolidation_with_prompt_limit() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1215,
          "content": "        // Create file stats with multiple prompts",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1216,
          "content": "        let multi_prompt = FileStats {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1217,
          "content": "            path: \"multi.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1218,
          "content": "            total_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1219,
          "content": "            ai_lines: 80,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1220,
          "content": "            ai_modified_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1221,
          "content": "            human_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1222,
          "content": "            original_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1223,
          "content": "            is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1224,
          "content": "            prompts: vec![",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1225,
          "content": "                PromptSummary {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1226,
          "content": "                    preview: \"Prompt 1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1227,
          "content": "                    full_text: \"Prompt 1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1228,
          "content": "                    line_count: 40,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1229,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1230,
          "content": "                PromptSummary {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1231,
          "content": "                    preview: \"Prompt 2\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1232,
          "content": "                    full_text: \"Prompt 2\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1233,
          "content": "                    line_count: 30,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1234,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1235,
          "content": "                PromptSummary {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1236,
          "content": "                    preview: \"Prompt 3\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1237,
          "content": "                    full_text: \"Prompt 3\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1238,
          "content": "                    line_count: 10,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1239,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1240,
          "content": "                PromptSummary {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1241,
          "content": "                    preview: \"Prompt 4\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1242,
          "content": "                    full_text: \"Prompt 4\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1243,
          "content": "                    line_count: 10,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1244,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1245,
          "content": "            ],",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1246,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1247,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1248,
          "content": "        // Should consolidate with prompt_limit >= 4",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1249,
          "content": "        assert!(multi_prompt.should_consolidate(0.7, 4));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1250,
          "content": "        assert!(multi_prompt.should_consolidate(0.7, 5));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1251,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1252,
          "content": "        // Should NOT consolidate with prompt_limit < 4",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1253,
          "content": "        assert!(!multi_prompt.should_consolidate(0.7, 3));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1254,
          "content": "        assert!(!multi_prompt.should_consolidate(0.7, 1));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1255,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1256,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1257,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1258,
          "content": "    fn test_session_range_formatting() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1259,
          "content": "        // Same date",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1260,
          "content": "        assert_eq!(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1261,
          "content": "            format_session_range(Some(\"2024-01-15T10:00:00Z\"), Some(\"2024-01-15T18:00:00Z\")),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1262,
          "content": "            Some(\"2024-01-15\".to_string())",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1263,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1264,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1265,
          "content": "        // Different dates",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1266,
          "content": "        assert_eq!(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1267,
          "content": "            format_session_range(Some(\"2024-01-15T10:00:00Z\"), Some(\"2024-01-20T18:00:00Z\")),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1268,
          "content": "            Some(\"2024-01-15 to 2024-01-20\".to_string())",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1269,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1270,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1271,
          "content": "        // Only earliest",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1272,
          "content": "        assert_eq!(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1273,
          "content": "            format_session_range(Some(\"2024-01-15T10:00:00Z\"), None),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1274,
          "content": "            Some(\"2024-01-15\".to_string())",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1275,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1276,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1277,
          "content": "        // Both same",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1278,
          "content": "        let ts = \"2024-01-15T10:00:00Z\";",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1279,
          "content": "        assert_eq!(",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1280,
          "content": "            format_session_range(Some(ts), Some(ts)),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1281,
          "content": "            Some(\"2024-01-15\".to_string())",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1282,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1283,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1284,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1285,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1286,
          "content": "    fn test_github_checks_summary_serialization() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1287,
          "content": "        let summary = GithubChecksSummary {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1288,
          "content": "            files_analyzed: 5,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1289,
          "content": "            models: vec![",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1290,
          "content": "                \"claude-sonnet-4-20250514\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1291,
          "content": "                \"claude-opus-4-5-20251101\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1292,
          "content": "            ],",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1293,
          "content": "            session_range: Some(\"2024-01-15 to 2024-01-20\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1294,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1295,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1296,
          "content": "        let json = serde_json::to_string(&summary).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1297,
          "content": "        assert!(json.contains(\"\\\"files_analyzed\\\":5\"));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1298,
          "content": "        assert!(json.contains(\"\\\"models\\\":[\"));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1299,
          "content": "        assert!(json.contains(\"claude-sonnet-4-20250514\"));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1300,
          "content": "        assert!(json.contains(\"\\\"session_range\\\":\"));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1301,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1302,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1303,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1304,
          "content": "    fn test_github_checks_summary_no_session_range() {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1305,
          "content": "        let summary = GithubChecksSummary {",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1306,
          "content": "            files_analyzed: 3,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1307,
          "content": "            models: vec![\"claude-sonnet-4-20250514\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1308,
          "content": "            session_range: None,",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1309,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1310,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1311,
          "content": "        let json = serde_json::to_string(&summary).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1312,
          "content": "        assert!(json.contains(\"\\\"files_analyzed\\\":3\"));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1313,
          "content": "        // session_range should be omitted when None",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1314,
          "content": "        assert!(!json.contains(\"session_range\"));",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1315,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9"
          },
          "edit_id": "c103e49b-ee6c-4fa8-ba07-73614bd5f9c9",
          "prompt_index": 21,
          "confidence": 1.0
        },
        {
          "line_number": 1316,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 1316,
        "ai_lines": 670,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 646,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/reference/data-formats.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# Data Formats",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "This document describes the JSON schemas used by whogitit.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## AIAttribution (Git Notes)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "The primary data structure stored in git notes:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "  \"schema_version\": 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "  \"session\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    \"session_id\": \"7f3a4b2c-9d1e-8a7b-c3d4-e5f6a7b8c9d0\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    \"model\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "      \"id\": \"claude-opus-4-5-20251101\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "      \"provider\": \"anthropic\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    \"started_at\": \"2026-01-30T14:23:17Z\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    \"cwd\": \"/path/to/project\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "  },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "  \"prompts\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "      \"index\": 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "      \"text\": \"Add user authentication with bcrypt...\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "      \"affected_files\": [\"src/auth.rs\", \"src/main.rs\"],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "      \"timestamp\": \"2026-01-30T14:23:45Z\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "  ],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "  \"files\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "      \"path\": \"src/auth.rs\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "      \"lines\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "        {\"line_number\": 1, \"source\": \"AI\", \"prompt_index\": 0},",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "        {\"line_number\": 2, \"source\": \"AI\", \"prompt_index\": 0},",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "        {\"line_number\": 3, \"source\": \"AIModified\", \"prompt_index\": 0},",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "        {\"line_number\": 4, \"source\": \"Human\", \"prompt_index\": null},",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "        {\"line_number\": 5, \"source\": \"Original\", \"prompt_index\": null}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "      ],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "      \"summary\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "        \"ai_lines\": 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "        \"ai_modified_lines\": 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "        \"human_lines\": 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "        \"original_lines\": 1",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "      }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "  ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "### Schema Fields",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "| Field | Type | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "|-------|------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "| `schema_version` | number | Format version (currently 2) |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "| `session` | object | AI session information |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "| `prompts` | array | Prompts used in this commit |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "| `files` | array | Per-file attribution |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "### Session Object",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "| Field | Type | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "|-------|------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "| `session_id` | string | Unique session identifier |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "| `model.id` | string | Model identifier |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "| `model.provider` | string | Model provider |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "| `started_at` | string | ISO 8601 timestamp |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "| `cwd` | string | Working directory |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "### Prompt Object",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "| Field | Type | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "|-------|------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "| `index` | number | Order within session |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "| `text` | string | Prompt text (may be redacted) |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "| `affected_files` | array | Files changed by this prompt |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "| `timestamp` | string | When prompt was given |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "### LineAttribution Object",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "| Field | Type | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "|-------|------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "| `line_number` | number | 1-indexed line number |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "| `source` | string | `AI`, `AIModified`, `Human`, `Original`, `Unknown` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "| `prompt_index` | number\\|null | Index of generating prompt |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "## PendingBuffer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "Temporary storage during editing session:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "  \"schema_version\": 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "  \"session\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    \"session_id\": \"7f3a4b2c-9d1e-8a7b-c3d4-e5f6a7b8c9d0\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "    \"model\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "      \"id\": \"claude-opus-4-5-20251101\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "      \"provider\": \"anthropic\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "    \"started_at\": \"2026-01-30T14:23:17Z\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "    \"cwd\": \"/path/to/project\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "  },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "  \"files\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    \"src/auth.rs\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "      \"original_content\": \"// Original file content\\n...\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "      \"edits\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "        {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "          \"content\": \"// After first AI edit\\n...\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "          \"prompt_index\": 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "          \"timestamp\": \"2026-01-30T14:23:45Z\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "          \"tool\": \"Edit\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "        },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "        {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "          \"content\": \"// After second AI edit\\n...\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "          \"prompt_index\": 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "          \"timestamp\": \"2026-01-30T14:25:00Z\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "          \"tool\": \"Write\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "      ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "  },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "  \"prompts\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "      \"index\": 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "      \"text\": \"Add user authentication...\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "      \"affected_files\": [\"src/auth.rs\"],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "      \"timestamp\": \"2026-01-30T14:23:45Z\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "  ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "### FileEditHistory",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "| Field | Type | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "|-------|------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "| `original_content` | string | File content before AI session |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "| `edits` | array | Sequence of AI edits |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "### AIEdit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "| Field | Type | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "|-------|------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "| `content` | string | File content after this edit |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "| `prompt_index` | number | Which prompt triggered this |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "| `timestamp` | string | When edit occurred |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "| `tool` | string | `Edit` or `Write` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "## Export Format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "Output of `whogitit export`:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "  \"export_version\": 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "  \"exported_at\": \"2026-01-30T15:00:00Z\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "  \"date_range\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "    \"since\": \"2026-01-01\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    \"until\": \"2026-01-31\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "  },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "  \"commits\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "      \"commit_id\": \"abc123def456789...\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "      \"commit_short\": \"abc123d\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "      \"message\": \"Add user authentication\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "      \"author\": \"Greg King\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "      \"committed_at\": \"2026-01-30T14:30:00Z\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "      \"session_id\": \"7f3a4b2c-9d1e-8a7b-c3d4-e5f6a7b8c9d0\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "      \"model\": \"claude-opus-4-5-20251101\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "      \"ai_lines\": 145,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "      \"ai_modified_lines\": 12,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "      \"human_lines\": 43,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "      \"original_lines\": 50,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "      \"files\": [\"src/auth.rs\", \"src/main.rs\"],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "      \"prompts\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "          \"index\": 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "          \"text\": \"Add user authentication...\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "          \"affected_files\": [\"src/auth.rs\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "      ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "  ],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "  \"summary\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "    \"total_commits\": 10,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "    \"commits_with_ai\": 7,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "    \"total_ai_lines\": 523,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    \"total_ai_modified_lines\": 45,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "    \"total_human_lines\": 128,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "    \"total_original_lines\": 89,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "    \"total_prompts\": 15",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "  }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "## Annotations Output Format",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "Output of `whogitit annotations --format github-checks`:",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "```json",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "{",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "  \"annotations\": [",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "    {",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "      \"path\": \"src/main.rs\",",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "      \"start_line\": 42,",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "      \"end_line\": 48,",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "      \"annotation_level\": \"notice\",",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "      \"title\": \"AI Generated (7 lines)\",",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "      \"message\": \"Model: claude-opus-4-5-20251101 | Session: 2024-01-15\\n\\n**Breakdown:** 5 AI, 2 AI-modified, 0 human, 0 original\\n\\n**Prompt:** Add error handling...\",",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "      \"raw_details\": \"Add error handling with retry logic...\"",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "  ],",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "  \"summary\": {",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "    \"files_analyzed\": 5,",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "    \"models\": [\"claude-opus-4-5-20251101\", \"claude-sonnet-4-20250514\"],",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "    \"session_range\": \"2024-01-15 to 2024-01-20\"",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "  }",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "### Annotation Object",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "| Field | Type | Description |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "|-------|------|-------------|",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "| `path` | string | File path relative to repository root |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "| `start_line` | number | Starting line number (1-indexed) |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "| `end_line` | number | Ending line number (inclusive) |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "| `annotation_level` | string | Always `notice` for AI attribution |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "| `title` | string | Short title (e.g., \"AI Generated (7 lines)\") |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "| `message` | string | Detailed message with model, breakdown, and prompt |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "| `raw_details` | string\\|null | Full prompt text (optional) |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "### Summary Object",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "| Field | Type | Description |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "|-------|------|-------------|",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "| `files_analyzed` | number | Number of files with AI attribution |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "| `models` | array | All AI models used across the commits |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "| `session_range` | string\\|null | Date range (e.g., \"2024-01-15 to 2024-01-20\") |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "### Annotation Title Formats",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "| Source Type | Title Format |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "|-------------|--------------|",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "| AI | \"AI Generated (N lines)\" |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "| AIModified | \"AI Modified (N lines)\" |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "| AIRelated (grouped) | \"AI Related (N lines: X AI, Y AI-modified)\" |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "| File-level (new) | \"New file (N lines) generated by AI\" |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "| File-level (existing) | \"X% AI-generated (N of M lines)\" |",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c"
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "## Audit Log Format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "Each line in `.whogitit/audit.jsonl` is a JSON object:",
          "source": {
            "type": "AIModified",
            "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
            "similarity": 0.9259259259259259
          },
          "edit_id": "03ee1660-081d-40ff-8041-52dc6653912c",
          "prompt_index": 25,
          "confidence": 0.9259259259259259
        },
        {
          "line_number": 253,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "{\"timestamp\":\"2026-01-30T14:23:15Z\",\"event\":\"Delete\",\"details\":{\"commit\":\"abc123d\",\"user\":\"greg\",\"reason\":\"Retention policy\"}}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "{\"timestamp\":\"2026-01-28T10:15:00Z\",\"event\":\"Export\",\"details\":{\"commit_count\":45,\"format\":\"json\",\"user\":\"greg\"}}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "{\"timestamp\":\"2026-01-25T09:00:00Z\",\"event\":\"RetentionApply\",\"details\":{\"commits\":12,\"user\":\"greg\",\"reason\":\"Quarterly\"}}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "{\"timestamp\":\"2026-01-20T16:30:00Z\",\"event\":\"ConfigChange\",\"details\":{\"user\":\"greg\",\"field\":\"max_age_days\"}}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "{\"timestamp\":\"2026-01-15T11:45:00Z\",\"event\":\"Redaction\",\"details\":{\"pattern_name\":\"API_KEY\",\"redaction_count\":3}}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "### Event Types",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "| Type | Description | Details Fields |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "|------|-------------|----------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "| `Delete` | Attribution deleted | `commit`, `user`, `reason` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "| `Export` | Data exported | `commit_count`, `format`, `user` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "| `RetentionApply` | Retention policy applied | `commits`, `user`, `reason` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "| `ConfigChange` | Configuration changed | `user`, `field` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "| `Redaction` | Sensitive data redacted | `pattern_name`, `redaction_count` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "## Configuration Format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "`.whogitit.toml`:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "```toml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "[privacy]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "enabled = true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "use_builtin_patterns = true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "disabled_patterns = [\"EMAIL\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "audit_log = true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "[[privacy.custom_patterns]]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "name = \"INTERNAL_ID\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "pattern = \"INT-[A-Z0-9]{8}\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "description = \"Internal IDs\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "[retention]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "max_age_days = 365",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "auto_purge = false",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "retain_refs = [\"refs/heads/main\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "min_commits = 100",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "See [Configuration](../guide/configuration.md) for full reference.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "## Hook Input Format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "JSON passed to hooks via stdin:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "  \"tool_name\": \"Edit\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "  \"tool_input\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "    \"file_path\": \"/path/to/file.rs\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "    \"old_string\": \"...\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "    \"new_string\": \"...\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "  },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "  \"transcript_path\": \"/tmp/claude-transcript-xyz.jsonl\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "For `Write` tool:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "  \"tool_name\": \"Write\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "  \"tool_input\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "    \"file_path\": \"/path/to/file.rs\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "    \"content\": \"...\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "  },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "  \"transcript_path\": \"/tmp/claude-transcript-xyz.jsonl\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "## Version History",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "| Version | Changes |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "|---------|---------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "| 2 | Current version. Full content snapshots. |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "| 1 | Initial version. Diff-based storage. (deprecated) |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "## See Also",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "- [Architecture](./architecture.md) - System design",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "- [Git Notes Storage](./git-notes.md) - Notes implementation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 336,
        "ai_lines": 55,
        "ai_modified_lines": 1,
        "human_lines": 0,
        "original_lines": 280,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/guide/commands/annotations.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "Generate annotations for GitHub Checks API integration.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Usage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "whogitit annotations [OPTIONS]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "## Description",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "The `annotations` command generates annotation data suitable for the GitHub Checks API. This is primarily used in CI/CD pipelines to display AI attribution information directly in the GitHub PR diff view.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "Annotations appear as colored markers in the \"Files changed\" tab, showing which lines were AI-generated and the prompts used.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "## Options",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "### Core Options",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "| Option | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "|--------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "| `--base <COMMIT>` | Base commit (exclusive). Defaults to first commit if not specified |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "| `--head <COMMIT>` | Head commit (inclusive). Default: `HEAD` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "| `--format <FORMAT>` | Output format: `github-checks` (default) or `json` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "| `--max-annotations <N>` | Maximum annotations to output. Default: `50` (GitHub API limit) |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "| `--ai-only` | Only annotate pure AI lines (not AI-modified) |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "### Consolidation Options",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "| Option | Description |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "|--------|-------------|",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "| `--consolidate <MODE>` | Consolidation mode: `auto` (default), `file`, or `lines` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "| `--consolidate-threshold <THRESHOLD>` | AI coverage threshold for auto mode (0.0-1.0). Default: `0.7` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "| `--consolidate-prompt-limit <N>` | Max prompts for auto-consolidation. Default: `3` |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "| `--min-lines <N>` | Minimum AI lines to create a line-level annotation. Default: `1` |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "### Filtering Options",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "| Option | Description |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "|--------|-------------|",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "| `--min-ai-lines <N>` | Minimum AI lines for a file to be annotated. Default: `3` |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "| `--min-ai-percent <N>` | Minimum AI percentage for a file to be annotated (0.0-100.0). Default: `5.0` |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "| `--diff-only` | Only annotate lines within the PR diff (requires `--base`) |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "### Grouping and Sorting Options",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "| Option | Description |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "|--------|-------------|",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "| `--group-ai-types` | Group AI and AIModified lines together in annotations |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "| `--sort-by <MODE>` | Sort files by: `coverage` (default), `lines`, or `alpha` |",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "## Consolidation Modes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "### Auto (default)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "Smart consolidation that chooses between file-level and line-level annotations based on AI coverage:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "- **File-level annotation** when:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "  - File is new (no original lines), OR",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "  - AI coverage >= threshold (default 70%) AND prompts <= prompt limit (default 3)",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "- **Line-level annotations** otherwise",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "### File",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "Creates one annotation per file, summarizing all AI attribution.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "whogitit annotations --consolidate file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "### Lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "Creates granular line-level annotations, grouping consecutive AI lines from the same prompt.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "whogitit annotations --consolidate lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "## Annotation Prioritization",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "When more annotations are generated than `--max-annotations` allows, annotations are scored and prioritized by:",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "1. **AI coverage** (up to 40 points) - Higher AI percentage scores higher",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "2. **AI line count** (up to 30 points) - More AI lines score higher (capped at 100)",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "3. **New file bonus** (15 points) - Files created entirely by AI",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "4. **In-diff bonus** (15 points) - Lines within the PR diff",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "The highest-scoring annotations are kept.",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "## Examples",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "### Basic usage (for GitHub Actions)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "whogitit annotations --base ${{ github.event.pull_request.base.sha }} --head ${{ github.sha }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "### JSON output for debugging",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "whogitit annotations --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "### File-level consolidation for cleaner diffs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "whogitit annotations --consolidate file --base main",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "### Custom threshold and prompt limit",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "# Consolidate at 50%+ AI coverage with up to 5 prompts",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "whogitit annotations --consolidate-threshold 0.5 --consolidate-prompt-limit 5",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "### Filter to significant files only",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "# Only annotate files with at least 10 AI lines and 20% AI coverage",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "whogitit annotations --min-ai-lines 10 --min-ai-percent 20.0",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "### Annotate only lines in the PR diff",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "whogitit annotations --base main --diff-only",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "### Group AI and AI-modified lines together",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "# Creates fewer, larger annotations",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "whogitit annotations --group-ai-types",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "### Sort by AI line count instead of coverage",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "whogitit annotations --sort-by lines",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "## Output Format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "### GitHub Checks Format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "{",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "  \"annotations\": [",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "    {",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "      \"path\": \"src/main.rs\",",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "      \"start_line\": 42,",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "      \"end_line\": 48,",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "      \"annotation_level\": \"notice\",",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "      \"title\": \"AI Generated (7 lines)\",",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "      \"message\": \"Model: claude-opus-4-5-20251101 | Session: 2024-01-15\\n\\n**Breakdown:** 5 AI, 2 AI-modified, 0 human, 0 original\\n\\n**Prompt:** Add error handling with retry logic...\",",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "      \"raw_details\": \"Add error handling with retry logic...\"",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "  ],",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "  \"summary\": {",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "    \"files_analyzed\": 5,",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "    \"models\": [\"claude-opus-4-5-20251101\", \"claude-sonnet-4-20250514\"],",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "    \"session_range\": \"2024-01-15 to 2024-01-20\"",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "  }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "### JSON Format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "Same structure but without GitHub-specific formatting constraints.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "## Shallow Clone Handling",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "When running in a shallow clone (common in CI), the command automatically:",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "- Detects the shallow clone",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "- Switches to file-level consolidation mode",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "- Displays a warning message",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "This ensures annotations work even with limited git history.",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "## GitHub Actions Integration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "See the [CI/CD Integration](../../workflows/ci-cd.md) guide for complete GitHub Actions workflow examples.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "```yaml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "- name: Generate annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "  run: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "    ANNOTATIONS=$(whogitit annotations \\",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "      --base ${{ github.event.pull_request.base.sha }} \\",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "      --min-ai-lines 5 \\",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "      --sort-by coverage)",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "    echo \"$ANNOTATIONS\" > annotations.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "- name: Create Check Run",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "  uses: actions/github-script@v7",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "  with:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "    script: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "      const fs = require('fs');",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "      const output = JSON.parse(fs.readFileSync('annotations.json'));",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "      // ... create check run with output.annotations",
          "source": {
            "type": "AI",
            "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739"
          },
          "edit_id": "e9bc7315-9461-4fbf-9b13-5afff577d739",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "## See Also",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "- [summary](./summary.md) - PR summary in Markdown format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "- [CI/CD Integration](../../workflows/ci-cd.md) - Full workflow examples",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 208,
        "ai_lines": 100,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 108,
        "unknown_lines": 0
      }
    },
    {
      "path": "README.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "Track AI-generated code at line-level granularity. Know exactly which lines were written by AI, which were modified by humans, and what prompts generated them.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Features",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "- **Line-level attribution** - Track whether each line is AI-generated, human-modified, or original",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "- **Prompt preservation** - Store the prompts that generated code alongside commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "- **Three-way diff analysis** - Accurate attribution even when you edit AI code before committing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "- **Git-native storage** - Uses git notes that travel with your repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "- **Claude Code integration** - Automatic capture via hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "- **GitHub Action** - PR comments showing AI attribution summaries with prompts",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "- **Privacy protection** - Automatic redaction of API keys, passwords, and sensitive data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "- **Data retention policies** - Configurable age limits and auto-purge for compliance",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "- **Audit logging** - Track deletions, exports, and configuration changes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "- **Export capabilities** - Bulk export attribution data as JSON or CSV",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "## Installation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "### Quick Install (Recommended)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "**macOS / Linux:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "curl -sSL https://github.com/dotsetlabs/whogitit/releases/latest/download/install.sh | sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "**Windows (PowerShell):**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "```powershell",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "irm https://github.com/dotsetlabs/whogitit/releases/latest/download/install.ps1 | iex",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "### Via Cargo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "cargo install whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "### From Source",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "git clone https://github.com/dotsetlabs/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "cd whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "cargo install --path .",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "## Setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "### 1. One-time global setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "Run this once to configure Claude Code integration:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "whogitit setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "This automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "- Installs the capture hook to `~/.claude/hooks/`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "- Configures Claude Code's `settings.json` with the required hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "- No manual file copying or JSON editing needed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "### 2. Initialize each repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "cd your-project",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "This installs git hooks that:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "- Attach attribution data to commits (post-commit)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "- Push git notes with your commits (pre-push)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "- Preserve notes during rebase/amend (post-rewrite)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "- Configure git to fetch notes automatically",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "### 3. Verify your setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "This checks all configuration and shows any issues.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "### Manual setup (alternative)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "If you prefer manual configuration, see [detailed installation docs](docs/src/getting-started/installation.md).",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "### Push notes with commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "Git notes are pushed automatically on `git push` after `whogitit init`. To push manually:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "git push origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "## CLI Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "### `whogitit blame <file>`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "Show AI attribution for each line:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "$ whogitit blame src/main.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": " LINE    COMMIT   AUTHOR      SRC  CODE",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "    1    a1b2c3d  Greg King       use std::io;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    2    d4e5f6g  Greg King       use anyhow::Result;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    3    d4e5f6g  Greg King       use serde::{Deserialize, Serialize};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    4    d4e5f6g  Greg King       use chrono::Utc;  // modified",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    5    h8i9j0k  Greg King    +   // Added by human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "Legend:  AI (2)  AI-modified (1) + Human (1)  Original (1)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "AI involvement: 60% (3 of 5 lines)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "Options:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "- `--revision <ref>` - Blame at a specific revision",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "- `--format json` - JSON output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "- `--ai-only` - Show only AI-generated lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "- `--human-only` - Show only human-written lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "### `whogitit show <commit>`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "View attribution summary for a commit:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "$ whogitit show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "Commit: d4e5f6g",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "Session: 7f3a-4b2c-9d1e-8a7b",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "Model: claude-opus-4-5-20251101",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "Started: 2026-01-30T14:23:17Z",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "Prompts used:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "  #0: \"Add error handling with anyhow...\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "  #1: \"Implement the serialize trait...\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "Files with AI changes:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "  src/auth.rs (25 AI, 3 modified, 2 human) - 45 total lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "  src/main.rs (10 AI, 5 original) - 15 total lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "Summary:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "  35 AI-generated lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "  3 AI lines modified by human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "  2 human-added lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "  5 original/unchanged lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "### `whogitit prompt <file:line>`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "View the prompt that generated specific lines:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "$ whogitit prompt src/main.rs:42",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "  PROMPT #2 in session 7f3a-4b2c-9d1e...                            ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "  Model: claude-opus-4-5-20251101 | 2026-01-30T14:23:17Z            ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "  Add JWT token generation with 24-hour expiration. Use the         ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "  jsonwebtoken crate. The function should take a user_id and        ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "  return a Result<String>.                                          ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "Files affected by this prompt:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "  - src/auth.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "  - src/main.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "### `whogitit summary`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "Generate attribution summary for a commit range (useful for PRs):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "whogitit summary --base main --head HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "whogitit summary --base main --format markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "whogitit summary --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "### `whogitit status`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "Check pending attribution changes (before commit):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "$ whogitit status",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "Pending AI attribution:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "  Session: 7f3a-4b2c-9d1e-8a7b",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "  Files: 3",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "  Lines: 45",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "Run 'git commit' to finalize attribution.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "### `whogitit clear`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "Discard pending changes without committing:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "whogitit clear",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "### `whogitit export`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "Export attribution data for multiple commits:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "whogitit export                           # JSON to stdout",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "whogitit export --format csv -o data.csv  # CSV to file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "whogitit export --since 2026-01-01        # Filter by date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "whogitit export --full-prompts            # Include full prompt text",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "Options:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "- `--format json|csv` - Output format (default: json)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "- `--since <date>` - Only commits after date (YYYY-MM-DD)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "- `--until <date>` - Only commits before date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "- `-o, --output <file>` - Output file (default: stdout)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "- `--full-prompts` - Include full prompt text (default: truncated)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "### `whogitit retention`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "Manage data retention policies:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "whogitit retention config   # Show current retention settings",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "whogitit retention preview  # Preview what would be deleted",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "whogitit retention apply    # Dry-run deletion",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "whogitit retention apply --execute  # Actually delete old data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "### `whogitit audit`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "View the audit log (tracks deletions, exports, config changes):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "whogitit audit                    # Show last 50 events",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "whogitit audit --limit 100        # Show more events",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "whogitit audit --since 2026-01-01 # Filter by date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "whogitit audit --event-type delete # Filter by type",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "whogitit audit --json             # JSON output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "### `whogitit redact-test`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "Test redaction patterns against text or files:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "whogitit redact-test --text \"text with api_key=secret123\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "whogitit redact-test --file config.txt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "whogitit redact-test --list-patterns  # Show available patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "whogitit redact-test --text \"...\" --matches-only  # Show matches without redacting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "whogitit redact-test --text \"...\" --audit  # Show audit trail",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "### `whogitit annotations`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "Generate annotations for GitHub Checks API (used by CI):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "whogitit annotations --base main --head HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "whogitit annotations --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "whogitit annotations --consolidate file    # One annotation per file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "whogitit annotations --consolidate lines   # Granular line annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "whogitit annotations --min-ai-lines 10     # Filter insignificant files",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "whogitit annotations --diff-only           # Only annotate lines in PR diff",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "whogitit annotations --group-ai-types      # Group AI and AI-modified together",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "whogitit annotations --sort-by coverage    # Sort by AI coverage (default)",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "Options:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "- `--base <commit>` - Base commit (exclusive)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "- `--head <commit>` - Head commit (default: HEAD)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "- `--format github-checks|json` - Output format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "- `--consolidate auto|file|lines` - Consolidation mode (default: auto)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "- `--consolidate-threshold <0.0-1.0>` - AI coverage threshold for auto mode (default: 0.7)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "- `--consolidate-prompt-limit <n>` - Max prompts for auto-consolidation (default: 3)",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "- `--min-lines <n>` - Minimum AI lines for line-level annotation (default: 1)",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "- `--min-ai-lines <n>` - Minimum AI lines for a file to be annotated (default: 3)",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "- `--min-ai-percent <n>` - Minimum AI percentage for a file (default: 5.0)",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "- `--max-annotations <n>` - Maximum annotations (default: 50)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "- `--ai-only` - Only annotate pure AI lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "- `--diff-only` - Only annotate lines within the PR diff",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "- `--group-ai-types` - Group AI and AIModified together",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "- `--sort-by coverage|lines|alpha` - Sort files by (default: coverage)",
          "source": {
            "type": "AI",
            "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32"
          },
          "edit_id": "bbae1705-19d2-4c05-b32d-4e346bbc1f32",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "### `whogitit copy-notes`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "Copy attribution between commits (useful after cherry-pick):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "whogitit copy-notes <source-sha> <target-sha>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "whogitit copy-notes abc123 def456 --dry-run",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "Note: For rebase and amend, the post-rewrite hook automatically preserves notes. Use `copy-notes` for cherry-pick or manual recovery.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "### `whogitit pager`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "Annotate git diff output with AI attribution (use as git pager):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "# Configure as git pager",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "git config --global core.pager \"whogitit pager\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "# Or use with aliases",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "git config --global alias.ai-diff '!git diff | whogitit pager --no-pager'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "git diff | whogitit pager",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "# Options",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "whogitit pager --verbose     # Show model, timestamps",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "whogitit pager --no-color    # Disable colors",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "whogitit pager --no-pager    # Output directly to stdout",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "See [Git Integration](docs/src/usage/git-integration.md) for more details.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "## Configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "Create `.whogitit.toml` in your repository root to configure privacy and retention:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "```toml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "[privacy]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "# Enable audit logging for compliance",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "audit_log = true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "# Disable specific builtin patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "disabled_patterns = [\"EMAIL\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "# Additional custom redaction patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "[[privacy.custom_patterns]]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "name = \"INTERNAL_ID\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "pattern = \"INTERNAL-\\\\d+\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "description = \"Internal tracking IDs\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "[retention]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "# Delete attribution older than 365 days",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "max_age_days = 365",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "# Keep at least 100 commits regardless of age",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "min_commits = 100",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "# Never delete attribution for these refs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "retain_refs = [\"refs/heads/main\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "# Auto-purge on commit (default: false)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "auto_purge = false",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "## GitHub Action",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "Add AI attribution summaries to pull requests automatically.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "### Setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "Create `.github/workflows/ai-attribution.yml`:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "```yaml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "name: AI Attribution Summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "on:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "  pull_request:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "    types: [opened, synchronize, reopened]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "permissions:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "  contents: read",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "  pull-requests: write",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "jobs:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "  analyze:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "    runs-on: ubuntu-latest",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "    steps:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "      - uses: actions/checkout@v4",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "        with:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "          fetch-depth: 0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "          ref: ${{ github.event.pull_request.head.sha }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "      - name: Fetch git notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "        run: git fetch origin refs/notes/whogitit:refs/notes/whogitit || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "        continue-on-error: true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "      - name: Setup Rust",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "        uses: dtolnay/rust-toolchain@stable",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "      - name: Cache cargo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "        uses: actions/cache@v4",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "        with:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "          path: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "            ~/.cargo/bin/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "            ~/.cargo/registry/index/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "            ~/.cargo/registry/cache/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "            ~/.cargo/git/db/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "            target/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "          key: ${{ runner.os }}-cargo-${{ hashFiles('**/Cargo.lock') }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "      - name: Build whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "        run: cargo build --release",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "      # ... analysis and comment posting steps",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "      # See .github/workflows/ai-attribution.yml for full implementation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "### Example PR Comment",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "The action posts a comment like this:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "---",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "##  AI Attribution Summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "This PR adds **+200** lines with AI attribution across **3** files.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "### Additions Breakdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "| Metric | Lines | % of Additions |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "|--------|------:|--------------:|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "|  AI-generated | +145 | 72.5% |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "|  AI-modified by human | +12 | 6.0% |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "|  Human-written | +43 | 21.5% |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "| **Total additions** | **+200** | **100%** |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "**AI involvement: 78.5%** of additions are AI-generated",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "### Files Changed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "| File | +Added | AI | Human | AI % | Status |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "|------|-------:|---:|------:|-----:|--------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "| `src/auth.rs` | +80 | 72 | 8 | 90% | New |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "| `src/main.rs` | +45 | 32 | 13 | 71% | Modified |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "| `src/jwt.rs` | +75 | 53 | 22 | 71% | New |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "### Commits with AI Attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "| Commit | Message | AI | Modified | Human | Files |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "|--------|---------|---:|--------:|------:|------:|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "| `abc1234` | Add user authentication | 72 | 3 | 5 | 2 |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "| `def5678` | Implement JWT tokens | 85 | 9 | 26 | 2 |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "### Prompts Used (2)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "**Prompt 1** (src/auth.rs, src/main.rs)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "<details>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "<summary>Add user authentication with bcrypt password hashing...</summary>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "Add user authentication with bcrypt password hashing. Create a User struct",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "with email and password_hash fields. Implement register and login functions",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "that return Result types.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "</details>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "**Prompt 2** (src/jwt.rs)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "<details>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "<summary>Implement JWT token generation with 24-hour expiration...</summary>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "Implement JWT token generation with 24-hour expiration. Use the jsonwebtoken",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "crate. The function should take a user_id and return a Result<String>.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "</details>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "---",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "## How It Works",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "### Three-Way Diff Analysis",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "whogitit captures complete file snapshots during editing, enabling accurate attribution:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": "1. **Original** - Content before any AI edits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "2. **AI Snapshots** - Content after each AI edit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "3. **Final** - Content at commit time",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "This allows tracking even when you modify AI-generated code before committing.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "### Line Attribution Types",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "| Source | Symbol | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "|--------|--------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "| AI | `` | Generated by AI, unchanged |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "| AIModified | `` | Generated by AI, then edited by human |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "| Human | `+` | Added by human after AI edits |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "| Original | `` | Existed before AI session |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "| Unknown | `?` | Could not determine source |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "### Data Flow",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "Claude Code (Edit/Write tools)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "         ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "          PreToolUse: Save file state",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "          PostToolUse: Capture change + prompt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "         ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "         ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "Pending Buffer (.whogitit-pending.json)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "         ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "          git commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "         ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "Three-Way Analysis  Git Notes (refs/notes/whogitit)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 495,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 496,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 497,
          "content": "## Storage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 498,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 499,
          "content": "Attribution is stored in git notes (`refs/notes/whogitit`), which:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 500,
          "content": "- Travel with repository when pushed/fetched",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 501,
          "content": "- Don't clutter commit history",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 502,
          "content": "- Can be inspected with standard git commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 503,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 504,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 505,
          "content": "# View raw attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 506,
          "content": "git notes --ref=whogitit show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 507,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 508,
          "content": "# List all attributed commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 509,
          "content": "git notes --ref=whogitit list",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 510,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 511,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 512,
          "content": "## Privacy",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 513,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 514,
          "content": "Prompts are automatically scanned and redacted for:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 515,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 516,
          "content": "- API keys (`api_key`, `apikey`, `secret`, `token`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 517,
          "content": "- AWS credentials (`AKIA...`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 518,
          "content": "- Private keys (`-----BEGIN.*PRIVATE KEY-----`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 519,
          "content": "- Bearer tokens",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 520,
          "content": "- GitHub tokens (`ghp_`, `gho_`, `ghs_`, `ghr_`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 521,
          "content": "- Email addresses",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 522,
          "content": "- Passwords",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 523,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 524,
          "content": "Sensitive data is replaced with `[REDACTED]` before storage.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 525,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 526,
          "content": "## License",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 527,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 528,
          "content": "MIT",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 528,
        "ai_lines": 11,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 517,
        "unknown_lines": 0
      }
    },
    {
      "path": "CLAUDE.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# CLAUDE.md",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Build & Test Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "# Build",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "cargo build",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "cargo build --release",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "# Run all tests",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "cargo test --verbose",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "# Run only unit tests",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "cargo test --lib",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "# Run only integration tests",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "cargo test --test '*'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "# Run a single test by name",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "cargo test test_full_workflow -- --nocapture",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "# Lint and format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "cargo fmt --all -- --check",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "cargo clippy --all-targets --all-features -- -D warnings",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "# Security audit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "cargo audit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "## CLI Usage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "# Run locally during development",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "cargo run -- <command>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "# Setup and configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "cargo run -- setup              # One-time global setup (Claude Code integration)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "cargo run -- doctor             # Verify configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "cargo run -- init               # Initialize repository hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "# Core attribution commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "cargo run -- blame src/main.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "cargo run -- blame src/main.rs --ai-only",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "cargo run -- show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "cargo run -- show HEAD --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "cargo run -- prompt src/main.rs:42",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "cargo run -- summary --base main --format markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "# Status and utility commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "cargo run -- status             # Show pending changes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "cargo run -- clear              # Discard pending changes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "# Data export and management",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "cargo run -- export --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "cargo run -- export --since 2024-01-01 --until 2024-12-31",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "cargo run -- retention preview",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "cargo run -- retention apply --execute",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "cargo run -- audit --limit 100",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "# Developer integration (GitHub, git)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "cargo run -- annotations --base main --head HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "cargo run -- annotations --base main --min-ai-lines 5 --sort-by coverage",
          "source": {
            "type": "AI",
            "edit_id": "045f0a91-aaa0-40f4-af8f-6ef8cb6b9e4b"
          },
          "edit_id": "045f0a91-aaa0-40f4-af8f-6ef8cb6b9e4b",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "cargo run -- annotations --base main --diff-only --group-ai-types",
          "source": {
            "type": "AI",
            "edit_id": "045f0a91-aaa0-40f4-af8f-6ef8cb6b9e4b"
          },
          "edit_id": "045f0a91-aaa0-40f4-af8f-6ef8cb6b9e4b",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "cargo run -- pager              # Read diff from stdin",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "# Privacy testing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "cargo run -- redact-test --text \"api_key=secret\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "cargo run -- redact-test --list-patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "# Copy attribution (after cherry-pick or recovery)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "cargo run -- copy-notes <old-sha> <new-sha>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "cargo run -- copy-notes abc123 def456 --dry-run",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "## Architecture Overview",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "whogitit tracks AI-generated code at line-level granularity using a dual-hook capture system and three-way diff analysis.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "### Data Flow",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "Claude Code Session (Edit/Write tools)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "     PreToolUse Hook: saves file state before edit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "     PostToolUse Hook: captures change + prompt from transcript",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "Pending Buffer (.whogitit-pending.json)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "       - Full content snapshots (original  AI edit 1  AI edit 2  ...)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "       - Session metadata, prompts, file histories",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "     (git commit triggers post-commit hook)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "    ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "Three-Way Analysis",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "       - Compares: original  AI snapshots  final committed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "       - Attributes each line: AI / AIModified / Human / Original",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "    ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "    ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "Git Notes (refs/notes/whogitit)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "    - AIAttribution JSON per commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    - Prompts (redacted), line-level attribution, summaries",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "### Key Modules",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "- **capture/**: Hook handlers and pending buffer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "  - `hook.rs`: CaptureHook - handles PreToolUse/PostToolUse from Claude Code",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "  - `pending.rs`: PendingBuffer - stores snapshots until commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "  - `threeway.rs`: ThreeWayAnalyzer - core attribution algorithm",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "  - `snapshot.rs`: Data structures (ContentSnapshot, AIEdit, FileEditHistory, LineAttribution)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "  - `diff.rs`: Diff utilities",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "- **core/**: Attribution data models and blame engine",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "  - `attribution.rs`: AIAttribution, PromptInfo, SessionMetadata, ModelInfo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "  - `blame.rs`: AIBlamer - combines git blame with AI notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "- **storage/**: Git notes persistence",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "  - `notes.rs`: NotesStore - read/write attribution to `refs/notes/whogitit`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "  - `trailers.rs`: TrailerGenerator - git trailers from attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "  - `audit.rs`: AuditLog, AuditEvent - compliance event logging",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "- **cli/**: Command implementations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "  - `blame.rs`, `show.rs`, `prompt.rs`, `summary.rs` - core attribution commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "  - `annotations.rs`: GitHub Checks API annotation generation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "  - `pager.rs`: Git diff pager with AI attribution markers",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "  - `export.rs`: Bulk attribution export (JSON/CSV)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "  - `setup.rs`: Global setup, doctor, and init commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "  - `retention.rs`: Data retention policy management",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "  - `audit.rs`: Audit log viewing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "  - `redact.rs`: Redaction pattern testing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "  - `copy.rs`: Copy attribution between commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "  - `output.rs`: Formatting (Pretty, JSON, Markdown)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "- **privacy/**: Sensitive data protection",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "  - `redaction.rs`: Redactor - regex patterns for API keys, emails, passwords, etc.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "  - `config.rs`: WhogititConfig, PrivacyConfig, RetentionConfig - `.whogitit.toml` parsing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "### Line Attribution Types",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "| Source | Symbol | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "|--------|--------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "| AI | `` | Generated by AI, unchanged |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "| AIModified | `` | Generated by AI, then edited by human |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "| Human | `+` | Added by human after AI edits |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "| Original | `` | Existed before AI session |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "| Unknown | `?` | Could not determine source |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "### Data Formats",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "**Pending Buffer** (`.whogitit-pending.json`): Version 2 format with full content snapshots per file, edit history chain, and session metadata.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "**Git Notes** (`refs/notes/whogitit`): AIAttribution JSON with schema version 2, containing session info, prompts array, and per-file line-level attribution results.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "## Code Style",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "- Rust 2021 edition",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "- Max line width: 100 characters",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "- 4-space indentation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "- Run `cargo fmt` before committing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "## Hook Integration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "The shell hook at `hooks/whogitit-capture.sh` (installed to `~/.claude/hooks/`) reads the `transcript_path` JSONL file provided by Claude Code to extract user prompts. It uses `jq -s` (slurp mode) since the transcript is JSON Lines format, not a JSON array.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 165,
        "ai_lines": 2,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 163,
        "unknown_lines": 0
      }
    }
  ]
}